{"id":"radiant-0j2","title":"Refactor: Extract note enrichment logic to shared method","description":"Nearly identical note enrichment logic (reading content + tags) is duplicated in getAllNotes() and searchNotes() in notesService.ts.\n\nLocation: src/services/notesService.ts (lines 86-108, 181-203)\nImpact: High - ~40 lines duplicated\nApproach: Extract to private enrichNoteWithContent() helper method","status":"done","priority":2,"issue_type":"task","created_at":"2025-12-18T22:49:10.719578-05:00","updated_at":"2025-12-22T08:22:33.82218-05:00"}
{"id":"radiant-146","title":"Fix: Standardize error handling in store actions","description":"Inconsistent error handling across notesStore actions. updateNote() doesn't reset isLoading: false on error, causing UI to hang.\n\nLocation: src/renderer/stores/notesStore.ts (updateNote at lines 87-105)\nImpact: High - UI bug, leaves loading state active on failure\nApproach: Create withLoading() wrapper for consistent error handling","status":"done","priority":2,"issue_type":"task","created_at":"2025-12-18T22:49:12.092163-05:00","updated_at":"2025-12-22T08:22:33.823423-05:00"}
{"id":"radiant-147","title":"Phase 2: Define Catppuccin color palettes and CSS variable system","description":"## Description\nCreate the theming system with Catppuccin color definitions and CSS custom properties for runtime theme switching.\n\n## Tasks\n- Create catppuccin.ts with all 4 flavor palettes (Latte, Frappé, Macchiato, Mocha)\n- Define semantic color tokens mapped to Catppuccin colors\n- Create theme.css with CSS custom properties\n- Create theme classes (.theme-latte, .theme-frappe, etc.)\n- Create ThemeProvider.svelte component\n\n## Files to Create\n- src/renderer/themes/catppuccin.ts (color definitions)\n- src/renderer/themes/theme.css (CSS variables)\n- src/renderer/components/ThemeProvider.svelte (theme wrapper)\n\n## Catppuccin Color Reference\nUse official Catppuccin palette\n\nRequired semantic tokens:\n- base (main background)\n- surface (panels/cards)\n- text (primary text)\n- subtext (secondary text)\n- accent (primary accent)\n- border (borders)\n- hover (hover states)\n\n## Acceptance Criteria\n- All 4 Catppuccin themes defined with complete color palettes\n- CSS variables support runtime theme switching\n- ThemeProvider loads and applies theme on mount\n\n## Reference\nSee CATPPUCCIN_THEME_PLAN.md Phase 2","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T12:52:28.260154296Z","updated_at":"2025-12-21T18:07:55.719707728Z","closed_at":"2025-12-21T18:07:55.719707728Z"}
{"id":"radiant-148","title":"Phase 5: Build theme selector UI component","description":"## Description\nCreate a user-facing UI component for selecting between the 4 Catppuccin themes.\n\n## Tasks\n- Create ThemeSelector.svelte component\n- Add radio buttons or dropdown for theme selection\n- Display theme names (Latte, Frappé, Macchiato, Mocha)\n- Connect to theme store\n- Integrate into App.svelte or settings menu\n\n## Files to Create/Modify\n- src/renderer/components/ThemeSelector.svelte (new)\n- src/renderer/components/App.svelte (integrate selector)\n\n## Acceptance Criteria\n- User can see all 4 theme options\n- Clicking a theme applies it immediately\n- Current theme is visually indicated\n- Theme persists after app restart\n\n## Reference\nSee CATPPUCCIN_THEME_PLAN.md Phase 3, Task 3.3","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T12:52:40.186261794Z","updated_at":"2025-12-21T18:20:16.319113451Z","closed_at":"2025-12-21T18:20:16.319113451Z"}
{"id":"radiant-149","title":"Phase 1: Add preferences database and IPC infrastructure","description":"## Description\nImplement the backend foundation for storing and retrieving user preferences, starting with theme selection.\n\n## Tasks\n- Add preferences table migration to database schema\n- Create preferencesRepository.ts with get/set methods  \n- Create preferencesService.ts with getTheme/setTheme methods\n- Add IPC handlers in preferencesHandlers.ts\n- Expose IPC methods in preload.ts (getTheme, setTheme)\n\n## Files to Create/Modify\n- src/database/migrations.ts (add preferences table)\n- src/database/preferencesRepository.ts (new)\n- src/services/preferencesService.ts (new)\n- src/ipc/preferencesHandlers.ts (new)\n- src/preload.ts (expose theme IPC methods)\n\n## Acceptance Criteria\n- Preferences table exists in database\n- Can store and retrieve theme preference via IPC\n- Default theme is mocha\n- Follows existing repository/service patterns\n\n## Reference\nSee CATPPUCCIN_THEME_PLAN.md Phase 1","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T12:54:07.487679754Z","updated_at":"2025-12-21T18:07:08.578658392Z","closed_at":"2025-12-21T18:07:08.578658392Z"}
{"id":"radiant-150","title":"Phase 3: Create theme state management with Zustand","description":"## Description\nAdd theme state management to the renderer process using Zustand store pattern.\n\n## Tasks\n- Create themeStore.ts with Zustand store\n- Add currentTheme state (latte | frappe | macchiato | mocha)\n- Implement loadTheme() action to fetch from IPC\n- Implement setTheme(theme) action to update IPC and state\n- Integrate with ThemeProvider component\n\n## Files to Create/Modify\n- src/renderer/stores/themeStore.ts (new)\n- src/renderer/components/ThemeProvider.svelte (connect to store)\n\n## Store Structure\ninterface ThemeState {\n  currentTheme: 'latte' | 'frappe' | 'macchiato' | 'mocha';\n  isLoading: boolean;\n  loadTheme: () =\u003e Promise\u003cvoid\u003e;\n  setTheme: (theme: string) =\u003e Promise\u003cvoid\u003e;\n}\n\n## Acceptance Criteria\n- Theme store follows existing Zustand patterns (see notesStore.ts)\n- Theme state is reactive across components\n- IPC calls are properly async/await\n- Loading states handled during theme changes\n\n## Reference\nSee CATPPUCCIN_THEME_PLAN.md Phase 3, Task 3.1","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T12:54:10.843014302Z","updated_at":"2025-12-21T18:12:14.065394488Z","closed_at":"2025-12-21T18:12:14.065394488Z"}
{"id":"radiant-151","title":"Phase 4: Refactor components to use CSS variables","description":"## Description\nReplace all hard-coded colors in components with CSS custom properties for theme support.\n\n## Tasks\n- Update Sidebar.svelte (buttons, backgrounds, borders, hover states)\n- Update EditorView.svelte (backgrounds, spinners, delete button)\n- Update EditorToolbar.svelte (toolbar background, button states)\n- Update Editor.svelte (TipTap prose styles, code blocks, blockquotes)\n- Update app.css (global styles, base resets)\n- Update index.css if needed\n\n## Color Mappings\nReplace hard-coded colors with CSS variables:\n- #ffffff → var(--color-base)\n- #3b82f6 → var(--color-accent)\n- #e5e7eb → var(--color-border)\n- #111827 → var(--color-text)\n- #6b7280 → var(--color-subtext)\n- #f9fafb → var(--color-surface)\n\n## Files to Modify\n- src/renderer/components/Sidebar.svelte\n- src/renderer/components/EditorView.svelte\n- src/renderer/components/EditorToolbar.svelte\n- src/renderer/components/Editor.svelte\n- src/renderer/app.css\n\n## Acceptance Criteria\n- No hard-coded hex colors remain in components\n- All themes render correctly without visual regressions\n- TipTap editor is readable in all 4 themes\n- Hover states and active states work in all themes\n\n## Reference\nSee CATPPUCCIN_THEME_PLAN.md Phase 3, Task 3.2","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T12:54:13.995812019Z","updated_at":"2025-12-21T18:14:13.461515514Z","closed_at":"2025-12-21T18:14:13.461515514Z"}
{"id":"radiant-152","title":"Phase 6: Integration, testing, and polish","description":"## Description\nFinal integration of theme system, comprehensive testing across all themes, and polish for production.\n\n## Tasks\n- Ensure ThemeProvider wraps App in renderer.ts\n- Test theme initialization on app start\n- Verify theme persistence across app restarts\n- Test all 4 themes in every component\n- Check TipTap editor in all themes\n- Verify accessibility (contrast ratios)\n- Test theme switching performance\n- Update documentation if needed\n\n## Testing Checklist\n- Latte theme: All components visible and readable\n- Frappé theme: All components visible and readable\n- Macchiato theme: All components visible and readable\n- Mocha theme: All components visible and readable\n- Theme persists after closing and reopening app\n- No console errors during theme switching\n- Editor content remains editable in all themes\n- Code blocks readable in all themes\n- Tag colors work in all themes\n\n## Optional Enhancements\n- Add smooth transition animations between themes\n- Integrate Catppuccin Tailwind plugin\n- Add system theme detection (prefers-color-scheme)\n- Add keyboard shortcut for theme cycling\n\n## Acceptance Criteria\n- All success criteria from CATPPUCCIN_THEME_PLAN.md met\n- No visual regressions\n- App builds and packages successfully\n- Theme system is production-ready\n\n## Reference\nSee CATPPUCCIN_THEME_PLAN.md Phase 4","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-20T12:54:17.438343168Z","updated_at":"2025-12-21T18:27:49.173191028Z","closed_at":"2025-12-21T18:27:49.173191028Z"}
{"id":"radiant-153","title":"Test: Code smell test issue","description":"This is a test issue to verify bead creation works","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T18:53:05.408826055Z","updated_at":"2025-12-21T18:53:05.408826055Z"}
{"id":"radiant-154","title":"Refactor: Extract duplicate theme validation constants","description":"**Type:** Code Redundancy\n**Severity:** High\n**Location:** src/services/preferencesService.ts, src/renderer/stores/themeStore.ts\n\nTheme validation list ['latte', 'frappe', 'macchiato', 'mocha'] is hardcoded in multiple places.\n\n**Fix:** Create src/config/themes.ts with shared constant","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:53:39.961778339Z","updated_at":"2025-12-22T03:14:32.76563Z","closed_at":"2025-12-22T03:14:32.76563Z"}
{"id":"radiant-155","title":"Fix: Add error state for failed note content reads","description":"**Type:** Error Handling\n**Severity:** High\n**Location:** src/services/notesService.ts (enrichNoteWithContent)\n\nSilent failures hide data loss from users. Return error indicator instead of empty content.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:54:01.508969572Z","updated_at":"2025-12-22T03:14:32.76563Z","closed_at":"2025-12-22T03:14:32.76563Z"}
{"id":"radiant-156","title":"Refactor: Extract duplicate createHandler IPC pattern","description":"**Type:** Code Redundancy\n**Severity:** Medium\n**Location:** src/ipc/notesHandlers.ts, src/ipc/preferencesHandlers.ts\n\nIdentical createHandler wrapper duplicated. Extract to src/ipc/utils/createIpcHandler.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:54:05.395807515Z","updated_at":"2025-12-22T03:14:32.76563Z","closed_at":"2025-12-22T03:14:32.76563Z"}
{"id":"radiant-157","title":"Refactor: Extract duplicate withLoading helper","description":"**Type:** Code Redundancy\n**Severity:** Medium\n**Location:** src/renderer/stores/notesStore.ts, src/renderer/stores/themeStore.ts\n\nNearly identical withLoading helper duplicated. Extract to src/renderer/utils/withLoading.ts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:54:09.275927489Z","updated_at":"2025-12-22T03:14:32.76563Z","closed_at":"2025-12-22T03:14:32.76563Z"}
{"id":"radiant-158","title":"Refactor: Improve type safety in handlers and stores","description":"**Type:** Type Safety\n**Severity:** Medium\n**Locations:** IPC handlers, stores, repositories\n\n- Replace any[] with readonly unknown[]\n- Add proper error instanceof checks\n- Type array values correctly","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:54:12.974759706Z","updated_at":"2025-12-22T03:14:32.76563Z","closed_at":"2025-12-22T03:14:32.76563Z"}
{"id":"radiant-159","title":"Refactor: Use dependency injection in repositories","description":"**Type:** Architecture\n**Severity:** Medium\n**Location:** All repository files\n\nReplace singleton pattern with DI. Inject database instance via constructor for better testability.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-21T18:54:17.254594871Z","updated_at":"2025-12-21T18:54:17.254594871Z"}
{"id":"radiant-160","title":"Fix: Replace console with logger","description":"**Type:** Inconsistent Patterns\n**Severity:** Medium\n**Locations:** migrations.ts, notesStore.ts, themeStore.ts, keyboardShortcuts.ts\n\nReplace console.log/error/warn with proper logger throughout codebase.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:54:20.790008899Z","updated_at":"2025-12-22T03:14:32.76563Z","closed_at":"2025-12-22T03:14:32.76563Z"}
{"id":"radiant-161","title":"Refactor: Simplify keyboard shortcut modifier logic","description":"**Type:** Code Complexity\n**Severity:** Low\n**Location:** src/renderer/utils/keyboardShortcuts.ts\n\nExtract complex modifier matching into cleaner helper function.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:54:24.288461195Z","updated_at":"2025-12-22T03:14:32.76563Z","closed_at":"2025-12-22T03:14:32.76563Z"}
{"id":"radiant-162","title":"Cleanup: Remove unused code","description":"**Type:** Dead Code\n**Severity:** Low\n**Locations:**\n- src/renderer/utils/useStore.svelte.ts (unused useStore function)\n- src/renderer/stores/themeStore.ts (empty import)\n\nRemove unused useStore function and empty import statement.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-21T18:54:28.540767073Z","updated_at":"2025-12-22T03:14:32.76563Z","closed_at":"2025-12-22T03:14:32.76563Z"}
{"id":"radiant-163","title":"Fix: EditorView not filling horizontal space","description":"The main note panel/editor area (EditorView component) doesn't expand horizontally to fill the Electron window. When the window is resized wider, blank white space appears on the right side instead of the editor expanding.\n\nROOT CAUSE:\nThe .editor-view CSS class in src/renderer/components/EditorView.svelte (lines 122-127) is missing the flex: 1 property needed to make it grow and fill available horizontal space in its parent flex container (.app).\n\nLAYOUT STRUCTURE:\n- Parent: App.svelte has .app class with 'display: flex' (horizontal flex container) and 'height: 100vh'\n- Sidebar: Fixed width of 280px\n- EditorView: Missing 'flex: 1' property, so it doesn't grow to fill remaining space\n\nEXPECTED BEHAVIOR:\n- Sidebar stays at fixed 280px width\n- EditorView expands horizontally to fill all remaining space\n- When window is resized, EditorView dynamically adjusts width\n\nACTUAL BEHAVIOR:\n- EditorView takes only its content width\n- Blank white space appears on the right side when window is wider","design":"FILE: src/renderer/components/EditorView.svelte\nLOCATION: Lines 122-127 (.editor-view CSS class)\n\nCHANGE:\nAdd 'flex: 1;' property to the .editor-view CSS rule.\n\nBEFORE:\n.editor-view {\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n  background-color: var(--color-base);\n}\n\nAFTER:\n.editor-view {\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n  height: 100vh;\n  background-color: var(--color-base);\n}\n\nWHY THIS WORKS:\nThe 'flex: 1' property (shorthand for flex-grow: 1; flex-shrink: 1; flex-basis: 0) makes EditorView a flexible child that will expand to fill remaining horizontal space in the .app flex container.","acceptance_criteria":"1. Editor panel fills the entire window WIDTH (not just content width)\n2. When Electron window is resized wider/narrower:\n   - Sidebar stays at fixed 280px width\n   - Editor panel dynamically expands/contracts to fill remaining space\n   - No blank white space appears on the right side\n3. With sidebar collapsed (Cmd+B), editor fills full window width\n4. Existing functionality still works:\n   - Note header displays correctly\n   - Editor content is properly sized\n   - Scrolling works when content overflows\n5. No visual regressions in other parts of the UI","status":"closed","priority":1,"issue_type":"task","estimated_minutes":5,"created_at":"2025-12-22T08:18:47.743387-05:00","updated_at":"2025-12-22T08:23:08.976675-05:00","closed_at":"2025-12-22T08:23:04.528179-05:00","labels":["bug","css","ui"]}
{"id":"radiant-164","title":"Allow minimizing the Theme menu in Sidebar","description":"The theme selector in the sidebar takes up a lot of vertical space. It should be collapsible.\n\n**Requirements:**\n1. Modify `src/renderer/components/ThemeSelector.svelte` to add a collapsed/expanded state.\n2. Make the header (`theme-selector-header`) clickable.\n3. Add a chevron icon that rotates based on the state.\n4. When collapsed, hide the list of themes.\n5. Default to expanded (or collapsed, decision: expanded).\n\n**Implementation Details:**\n- Add `isExpanded` state variable.\n- Toggle state on header click.\n- Conditionally render or show/hide `.theme-options`.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T08:36:08.851825-05:00","updated_at":"2025-12-22T08:48:58.916236-05:00","closed_at":"2025-12-22T08:48:58.916236-05:00"}
{"id":"radiant-165","title":"Fix Editor text color to respect active theme","description":"The text in the editor currently stays black/slate because of the `prose-slate` class, which overrides the CSS variables defined by the theme.\n\n**Requirements:**\n1. The editor text should use `var(--color-text)` and other theme variables.\n2. Headings and other typography elements should also respect the theme colors.\n\n**Implementation Details:**\n- In `src/renderer/components/Editor.svelte`, remove `prose-slate` from the editor attributes.\n- Add CSS to target `.ProseMirror` and its children (p, h1, h2, etc.) to use the correct CSS variables.\n- Example:\n  ```css\n  :global(.editor .ProseMirror) {\n    color: var(--color-text);\n  }\n  :global(.editor .ProseMirror h1, .editor .ProseMirror h2, .editor .ProseMirror h3) {\n    color: var(--color-text); /* or specific heading color if available */\n  }\n  ```","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T08:36:10.544705-05:00","updated_at":"2025-12-22T08:50:26.758286-05:00","closed_at":"2025-12-22T08:50:22.863735-05:00"}
{"id":"radiant-166","title":"Strip HTML tags from Note Preview in Sidebar","description":"The note preview in the sidebar currently displays HTML tags (e.g., `\u003cp\u003econtent\u003c/p\u003e`) because the raw HTML content from TipTap is being used.\n\n**Requirements:**\n1. The preview text in the sidebar should be plain text only.\n2. HTML tags should be stripped before truncation.\n\n**Implementation Details:**\n- In `src/renderer/components/NoteListItem.svelte`:\n- Update or create a helper function to strip HTML tags from the content string.\n- A simple regex replacement `.replace(/\u003c[^\u003e]*\u003e?/gm, '')` is likely sufficient for the preview.\n- Apply this stripping before passing the content to `truncateContent`.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T08:36:12.281739-05:00","updated_at":"2025-12-22T08:52:03.117357-05:00","closed_at":"2025-12-22T08:51:57.673114-05:00"}
{"id":"radiant-167","title":"Add silent mode to withLoading utility","description":"Modify `src/renderer/utils/withLoading.ts` to accept a `silent` option. When `silent: true`, do not set `isLoading` state in the store. This allows background operations without triggering global loading indicators.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-22T08:57:33.352897-05:00","updated_at":"2025-12-22T09:02:41.40405-05:00","closed_at":"2025-12-22T09:02:41.40405-05:00"}
{"id":"radiant-168","title":"Use silent loading for note updates to prevent editor focus loss","description":"The editor loses focus on auto-save because `updateNote` triggers global loading state, causing the editor component to unmount. Update `src/renderer/stores/notesStore.ts` to use `silent: true` in `withLoading` call within `updateNote`.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-22T08:57:33.380262-05:00","updated_at":"2025-12-22T09:02:59.991901-05:00","closed_at":"2025-12-22T09:02:59.991901-05:00","dependencies":[{"issue_id":"radiant-168","depends_on_id":"radiant-167","type":"blocks","created_at":"2025-12-22T11:58:02.210179-05:00","created_by":"import"}]}
{"id":"radiant-169","title":"Fix: Unsafe proxy singleton pattern with type assertions","description":"Multiple repository and service singletons use 'as any' type assertions, bypassing TypeScript type safety. This masks type errors at compile time and leads to hidden bugs at runtime. Affects: notesRepository.ts, tagsRepository.ts, notesService.ts, preferencesService.ts, preferencesRepository.ts","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-22T23:16:37.426696-05:00","updated_at":"2025-12-23T11:24:22.028554335Z","closed_at":"2025-12-23T11:24:22.028554335Z","labels":["refactoring","type-safety"]}
{"id":"radiant-170","title":"Fix: Missing file system error handling in critical paths","description":"fileManager.ts and connection.ts perform disk I/O operations without try-catch blocks. This can cause silent failures and data loss. No error handling for: file write operations, database connection, file reads. Risk: Data loss, app crashes, silent failures.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-22T23:16:39.930033-05:00","updated_at":"2025-12-23T11:24:22.028561132Z","closed_at":"2025-12-23T11:24:22.028561132Z","labels":["critical","error-handling"]}
{"id":"radiant-171","title":"Fix: Filter configuration not validated before filter creation","description":"FilterRegistry.ts creates Filter instances before validating the FilterConfig. Invalid configurations can pass through, causing partial filter execution or runtime errors. Issue: registerFilter() does not validate config before instantiation.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-22T23:16:42.048367-05:00","updated_at":"2025-12-23T11:24:22.028570946Z","closed_at":"2025-12-23T11:24:22.028570946Z","labels":["critical","validation"]}
{"id":"radiant-172","title":"Fix: Potential race condition in database tag operations","description":"tagsRepository.ts updateTag() and deleteTag() methods don't use transactions. Multiple concurrent operations could corrupt tag state. Without transactions, partial updates can occur if app crashes mid-operation.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-22T23:16:44.120043-05:00","updated_at":"2025-12-23T11:24:22.028587152Z","closed_at":"2025-12-23T11:24:22.028587152Z","labels":["concurrency","database"]}
{"id":"radiant-173","title":"Fix: Inconsistent error handling patterns across codebase","description":"Different modules use different error handling approaches: some use throw, some use console.error, some silently fail. This makes debugging difficult and can hide bugs. Affects: repository layer, service layer, IPC handlers, components. Recommendation: Standardize on logger utility and consistent error propagation.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-22T23:16:46.793483-05:00","updated_at":"2025-12-23T11:24:22.028601674Z","closed_at":"2025-12-23T11:24:22.028601674Z","labels":["error-handling","refactoring"]}
{"id":"radiant-174","title":"Fix: Missing input validation in FilterRegistry","description":"FilterRegistry accepts any FilterConfig without validation. No checks for: required properties, invalid filter types, malformed configs. Can lead to runtime errors and invalid filter states. Recommendation: Add comprehensive validation in registerFilter() before creating filter instances.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-22T23:16:49.204214-05:00","updated_at":"2025-12-22T23:16:49.204214-05:00","labels":["filters","validation"]}
{"id":"radiant-175","title":"Refactor: Replace 'any' type in FilterConfig with proper types","description":"FilterConfig uses 'any' types for filter properties, bypassing type safety. Makes IDE support poor and hides type errors. Recommendation: Create strict type definitions for each filter configuration (TagFilterConfig, DateRangeFilterConfig, ContentFilterConfig) and use discriminated unions.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T23:16:51.901833-05:00","updated_at":"2025-12-22T23:16:51.901833-05:00","labels":["refactoring","type-safety"]}
{"id":"radiant-176","title":"Performance: Add caching for repeated validation calls","description":"Validation functions (validateNoteName, validateTagName, validateDateRange) are called repeatedly without caching. In loops or rapid operations, this causes unnecessary CPU usage. Recommendation: Implement memoization for validation results or cache commonly checked values.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T23:16:54.609219-05:00","updated_at":"2025-12-22T23:16:54.609219-05:00","labels":["optimization","performance"]}
{"id":"radiant-177","title":"Fix: Date calculation edge cases in DateRangeFilter","description":"DateRangeFilter.ts uses simple date comparisons without handling: daylight saving time transitions, timezone offsets, leap years, off-by-one errors. Can cause notes to be incorrectly filtered near DST boundaries. Recommendation: Use date-fns or day.js for robust date handling.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-22T23:16:57.889096-05:00","updated_at":"2025-12-22T23:16:57.889096-05:00","labels":["date-handling","edge-cases"]}
{"id":"radiant-178","title":"Fix: Missing input sanitization for tag and note names","description":"Tag and note names accept input with leading/trailing whitespace, no deduplication of spaces, no sanitization of special characters. Can create duplicate-looking tags ('Tag' vs 'Tag ') and confuse users. Recommendation: Trim, normalize whitespace, and validate special characters in validation.ts.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-22T23:17:00.365283-05:00","updated_at":"2025-12-22T23:17:00.365283-05:00","labels":["input-validation","user-experience"]}
{"id":"radiant-179","title":"Refactor: Reduce coupling via singleton proxy pattern","description":"Heavy reliance on singleton proxies (ProxyNotesRepository, ProxyTagsRepository, etc.) creates tight coupling and makes testing difficult. Services can't easily be mocked or swapped. Recommendation: Implement proper dependency injection pattern or factory methods.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T23:17:03.117744-05:00","updated_at":"2025-12-22T23:17:03.117744-05:00","labels":["architecture","refactoring","testing"]}
{"id":"radiant-180","title":"Refactor: Extract duplicate regex compilation logic","description":"Multiple files compile the same regex patterns (whitespace patterns, validation patterns) without caching. Compiled regexes should be defined once and reused. Found in: validation.ts, SearchBar.svelte, keyboardShortcuts.ts. Recommendation: Extract regex definitions to constants/utils and reuse.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T23:17:05.882096-05:00","updated_at":"2025-12-22T23:17:05.882096-05:00","labels":["performance","refactoring"]}
{"id":"radiant-181","title":"Test: Add test coverage for database error scenarios","description":"Database layer tests (notesRepository.test.ts, tagsRepository.test.ts) lack coverage for error scenarios: connection failures, disk full, corrupted data, transaction rollbacks. These are critical paths that should be tested. Recommendation: Add error scenario tests for all CRUD operations.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T23:17:08.425859-05:00","updated_at":"2025-12-22T23:17:08.425859-05:00","labels":["database","testing"]}
{"id":"radiant-182","title":"Test: Add test coverage for IPC handler error cases","description":"IPC handlers (notesHandlers.ts, preferencesHandlers.ts) lack tests for error scenarios: invalid payloads, handler failures, concurrent requests. Should test error paths and edge cases. Recommendation: Add comprehensive tests for error handling in all IPC handlers.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T23:17:10.423198-05:00","updated_at":"2025-12-22T23:17:10.423198-05:00","labels":["ipc","testing"]}
{"id":"radiant-183","title":"Test: Add test coverage for UI components","description":"UI components (Editor.svelte, NoteList.svelte, FilterBar.svelte) lack test coverage. Should test: rendering, user interactions, prop changes, error states. Recommendation: Add Svelte component tests using vitest or @testing-library/svelte.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T23:17:12.680109-05:00","updated_at":"2025-12-22T23:17:12.680109-05:00","labels":["testing","ui"]}
{"id":"radiant-184","title":"Refactor: Extract magic numbers and strings to constants","description":"Hardcoded values scattered throughout codebase: validation limits, timeout values, default sizes, color values. Makes maintenance difficult and error-prone. Recommendation: Create constants file with all magic values and import where needed.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-22T23:17:15.311441-05:00","updated_at":"2025-12-22T23:17:15.311441-05:00","labels":["maintenance","refactoring"]}
{"id":"radiant-185","title":"Refactor: Simplify deeply nested conditional logic in filters","description":"CompositeFilter.ts has deeply nested conditionals for filter composition logic. Complex boolean logic is hard to follow and prone to bugs. Recommendation: Extract complex conditions to named helper methods for clarity.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-22T23:17:17.441497-05:00","updated_at":"2025-12-22T23:17:17.441497-05:00","labels":["complexity","refactoring"]}
{"id":"radiant-186","title":"Documentation: Add inline comments for complex algorithms","description":"Complex business logic lacks inline comments: filter matching algorithm, date range calculations, note enrichment. Makes maintenance difficult for new developers. Recommendation: Add detailed comments explaining 'why' not just 'what'.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-22T23:17:20.027176-05:00","updated_at":"2025-12-22T23:17:20.027176-05:00","labels":["documentation","maintainability"]}
{"id":"radiant-187","title":"Refactor: Improve error messages with context information","description":"Error messages are often generic ('Error loading notes', 'Failed to save'). Don't include context about what failed or why. Makes debugging difficult for users and developers. Recommendation: Include operation details, data context, and error codes in messages.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-22T23:17:22.581329-05:00","updated_at":"2025-12-22T23:17:22.581329-05:00","labels":["error-handling","user-experience"]}
{"id":"radiant-188","title":"Replace Proxy singleton pattern in notesRepository.ts with factory function","description":"## Problem\nThe current Proxy singleton pattern in notesRepository.ts uses unsafe type casting that undermines TypeScript's type safety.\n\n**File:** src/database/notesRepository.ts (lines 140-147)\n\n**Current code:**\n```typescript\nexport const notesRepository = new Proxy({} as NotesRepository, {\n  get(target, prop) {\n    if (!_notesRepository) {\n      _notesRepository = new NotesRepository(getDatabase());\n    }\n    return (_notesRepository as any)[prop];  // UNSAFE\n  },\n});\n```\n\n**Issues:**\n- Property access returns any, losing type safety\n- No runtime validation of property existence\n- IDE autocomplete may not work correctly\n- Silent failures if methods are called before initialization\n\n## Solution\nReplace with proper lazy getter function:\n\n```typescript\nlet _notesRepository: NotesRepository | null = null;\n\nexport function getNotesRepository(): NotesRepository {\n  if (!_notesRepository) {\n    _notesRepository = new NotesRepository(getDatabase());\n  }\n  return _notesRepository;\n}\n```\n\n## Tasks\n1. Replace the Proxy export with a getter function\n2. Update all imports in the codebase that use notesRepository to call getNotesRepository()\n3. Update tests to work with the new pattern\n4. Verify type safety is preserved (no as any casts)\n5. Run existing tests to ensure no regressions\n\n## Files to update\n- src/database/notesRepository.ts (implementation)\n- src/services/notesService.ts (import usage)\n- src/ipc/notesHandlers.ts (import usage)\n- Any test files that import notesRepository","acceptance_criteria":"- No as any type assertions remain in the singleton pattern\n- All callers use getNotesRepository() instead of direct property access\n- All existing tests pass\n- TypeScript compilation succeeds with no errors\n- IDE autocomplete works correctly for repository methods","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T23:27:52.876572-05:00","updated_at":"2025-12-23T11:24:22.028441016Z","closed_at":"2025-12-23T11:24:22.028441016Z","labels":["critical","refactoring","type-safety"]}
{"id":"radiant-189","title":"Replace Proxy singleton pattern in tagsRepository.ts with factory function","description":"## Problem\nThe current Proxy singleton pattern in tagsRepository.ts uses unsafe type casting.\n\n**File:** src/database/tagsRepository.ts (lines 124-131)\n\n**Current unsafe pattern:**\n```typescript\nexport const tagsRepository = new Proxy({} as TagsRepository, {\n  get(target, prop) {\n    if (!_tagsRepository) {\n      _tagsRepository = new TagsRepository(getDatabase());\n    }\n    return (_tagsRepository as any)[prop];\n  },\n});\n```\n\n## Solution\nReplace with type-safe factory function:\n\n```typescript\nlet _tagsRepository: TagsRepository | null = null;\n\nexport function getTagsRepository(): TagsRepository {\n  if (!_tagsRepository) {\n    _tagsRepository = new TagsRepository(getDatabase());\n  }\n  return _tagsRepository;\n}\n```\n\n## Tasks\n1. Replace the Proxy export with a getter function\n2. Update all imports: tagsRepository -\u003e getTagsRepository()\n3. Update tests to use the new pattern\n4. Verify type safety is restored\n\n## Files to check\n- src/database/tagsRepository.ts (implementation)\n- src/services/notesService.ts (usage)\n- src/ipc/notesHandlers.ts (usage)\n- Test files importing tagsRepository","acceptance_criteria":"- No as any assertions in singleton\n- All callers use getTagsRepository()\n- All tests pass\n- TypeScript compiles with no errors","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T23:27:59.735261-05:00","updated_at":"2025-12-23T11:24:22.02850738Z","closed_at":"2025-12-23T11:24:22.02850738Z","labels":["critical","refactoring","type-safety"]}
{"id":"radiant-190","title":"Replace Proxy singleton patterns in preferencesRepository and services","description":"## Problem\nThree more files use unsafe Proxy singleton patterns:\n- src/database/preferencesRepository.ts (lines 58-65)\n- src/services/notesService.ts (lines 233-240)\n- src/services/preferencesService.ts (lines 84-91)\n\nAll use the same unsafe pattern with as any type casting.\n\n## Solution\nReplace each Proxy with type-safe factory functions:\n\n```typescript\n// Pattern for each file:\nlet _instance: RepositoryType | null = null;\n\nexport function getInstance(): RepositoryType {\n  if (!_instance) {\n    _instance = new RepositoryType(dependencies);\n  }\n  return _instance;\n}\n```\n\n## Tasks\n1. Replace preferencesRepository Proxy -\u003e getPreferencesRepository()\n2. Replace notesService Proxy -\u003e getNotesService()\n3. Replace preferencesService Proxy -\u003e getPreferencesService()\n4. Update all import locations for these three\n5. Update tests for all three modules\n6. Run full test suite\n\n## Files to modify\n- src/database/preferencesRepository.ts\n- src/services/notesService.ts\n- src/services/preferencesService.ts\n- src/ipc/preferencesHandlers.ts (usage)\n- All test files importing these modules","acceptance_criteria":"- No Proxy singletons remain in the codebase\n- No as any type assertions for singletons\n- All imports updated to factory functions\n- Full test suite passes\n- TypeScript compiles cleanly","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T23:28:08.566036-05:00","updated_at":"2025-12-23T11:24:22.028530971Z","closed_at":"2025-12-23T11:24:22.028530971Z","labels":["critical","refactoring","type-safety"]}
{"id":"radiant-191","title":"Add comprehensive error handling to FileManager file operations","description":"## Problem\nFileManager methods lack proper error handling for disk I/O failures, risking data loss.\n\n**File:** src/storage/fileManager.ts (lines 48-87)\n\n**Current code has NO try-catch:**\n```typescript\nwriteNote(filePath: string, content: string, frontmatter: NoteFrontmatter): void {\n  this.ensureNotesDirectory();\n  const fileContent = matter.stringify(content, frontmatter);\n  fs.writeFileSync(filePath, fileContent, 'utf-8');  // Can throw\n  logger.info(`Note written to: ${filePath}`);\n}\n\nreadNote(filePath: string): { content: string; frontmatter: NoteFrontmatter } {\n  if (!fs.existsSync(filePath)) {\n    throw new Error(`Note file not found: ${filePath}`);  // Minimal context\n  }\n  const fileContent = fs.readFileSync(filePath, 'utf-8');  // Can throw\n  const parsed = matter(fileContent);\n  return { content: parsed.content, frontmatter: parsed.data as NoteFrontmatter };\n}\n```\n\n## Failure scenarios to handle\n- Disk full\n- Permission denied\n- Path issues (invalid characters, too long)\n- File already exists (for writes)\n- Encoding errors\n- Symlink/directory conflicts\n\n## Solution\nAdd comprehensive error handling with specific error types:\n\n```typescript\nclass FileSystemError extends Error {\n  constructor(message: string, public code: string, public filePath: string) {\n    super(message);\n    this.name = 'FileSystemError';\n  }\n}\n\nwriteNote(filePath: string, content: string, frontmatter: NoteFrontmatter): void {\n  try {\n    this.ensureNotesDirectory();\n    const fileContent = matter.stringify(content, frontmatter);\n    fs.writeFileSync(filePath, fileContent, 'utf-8');\n    logger.info(`Note written: ${filePath}`);\n  } catch (error) {\n    const fsError = error as NodeJS.ErrnoException;\n    if (fsError.code === 'EACCES') {\n      throw new FileSystemError(\n        `Permission denied writing note: ${filePath}`,\n        'PERMISSION_DENIED',\n        filePath\n      );\n    } else if (fsError.code === 'ENOSPC') {\n      throw new FileSystemError(\n        `Disk full, cannot write note: ${filePath}`,\n        'DISK_FULL',\n        filePath\n      );\n    }\n    // Handle other specific errors...\n    throw new FileSystemError(\n      `Failed to write note: ${fsError.message}`,\n      fsError.code || 'UNKNOWN',\n      filePath\n    );\n  }\n}\n```\n\n## Tasks\n1. Create FileSystemError class with error codes\n2. Add try-catch to writeNote() with specific error codes\n3. Add try-catch to readNote() with specific error codes\n4. Add try-catch to deleteNote() with specific error codes\n5. Add try-catch to ensureNotesDirectory()\n6. Update error messages to be user-friendly and actionable\n7. Write tests for each error scenario\n\n## Files to modify\n- src/storage/fileManager.ts (implementation)\n- src/storage/fileManager.test.ts (error scenario tests)","acceptance_criteria":"- All file operations wrapped in try-catch\n- Specific error codes for common failures (EACCES, ENOSPC, ENOENT, etc.)\n- User-friendly error messages with context\n- Tests for permission denied, disk full, file not found\n- No silent failures\n- Stack traces preserved in error wrapping","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-22T23:28:26.091397-05:00","updated_at":"2025-12-23T11:24:22.028538757Z","closed_at":"2025-12-23T11:24:22.028538757Z","labels":["critical","data-safety","error-handling"]}
{"id":"radiant-192","title":"Add error handling to database connection initialization","description":"## Problem\nDatabase initialization in connection.ts lacks error handling for file I/O failures.\n\n**File:** src/database/connection.ts (lines 11-30)\n\n**Current code:**\n```typescript\nexport function initializeDatabase(): Database.Database {\n  // Ensure user data directory exists\n  if (!fs.existsSync(CONFIG.USER_DATA_DIR)) {\n    fs.mkdirSync(CONFIG.USER_DATA_DIR, { recursive: true });  // No error handling\n  }\n\n  // Create database connection\n  db = new Database(CONFIG.DATABASE_PATH, {  // Can throw\n    verbose: process.env.NODE_ENV === 'development' ? (msg: string) =\u003e logger.debug(msg) : undefined,\n  });\n\n  // Enable WAL mode for better concurrency\n  if (CONFIG.DATABASE_WAL_MODE) {\n    db.pragma('journal_mode = WAL');  // Can throw\n  }\n  // ... more pragmas without error handling\n}\n```\n\n## Risks\n- Directory creation can fail (permissions, disk full)\n- Database file creation can fail\n- Database might be corrupt\n- WAL mode might not be supported\n- Pragma settings might fail\n\n## Solution\nAdd comprehensive error handling:\n\n```typescript\nclass DatabaseConnectionError extends Error {\n  constructor(message: string, public code: string, public cause?: Error) {\n    super(message);\n    this.name = 'DatabaseConnectionError';\n  }\n}\n\nexport function initializeDatabase(): Database.Database {\n  try {\n    // Ensure user data directory exists\n    if (!fs.existsSync(CONFIG.USER_DATA_DIR)) {\n      try {\n        fs.mkdirSync(CONFIG.USER_DATA_DIR, { recursive: true });\n      } catch (error) {\n        const fsError = error as NodeJS.ErrnoException;\n        throw new DatabaseConnectionError(\n          `Cannot create data directory: ${CONFIG.USER_DATA_DIR}`,\n          fsError.code || 'MKDIR_FAILED',\n          fsError\n        );\n      }\n    }\n\n    // Create database connection\n    try {\n      db = new Database(CONFIG.DATABASE_PATH, {\n        verbose: process.env.NODE_ENV === 'development' ? (msg: string) =\u003e logger.debug(msg) : undefined,\n      });\n    } catch (error) {\n      throw new DatabaseConnectionError(\n        `Failed to open database: ${CONFIG.DATABASE_PATH}`,\n        'DB_OPEN_FAILED',\n        error as Error\n      );\n    }\n\n    // Enable WAL mode with error handling\n    try {\n      if (CONFIG.DATABASE_WAL_MODE) {\n        db.pragma('journal_mode = WAL');\n      }\n    } catch (error) {\n      logger.warn('Failed to enable WAL mode, continuing with default journal mode', error);\n      // Non-fatal, continue\n    }\n\n    // ... rest of initialization with similar error handling\n    \n    logger.info(`Database initialized: ${CONFIG.DATABASE_PATH}`);\n    return db;\n  } catch (error) {\n    logger.error('Database initialization failed:', error);\n    throw error;\n  }\n}\n```\n\n## Tasks\n1. Create DatabaseConnectionError class\n2. Add try-catch for directory creation\n3. Add try-catch for database opening\n4. Add error handling for pragma settings (with fallback)\n5. Write tests for connection failures\n6. Write tests for corrupt database\n7. Write tests for permission errors\n8. Document error codes\n\n## Files to modify\n- src/database/connection.ts (implementation)\n- Create src/database/connection.test.ts (new test file)","acceptance_criteria":"- All I/O operations wrapped in try-catch\n- Specific error codes for different failure types\n- Tests for directory creation failure\n- Tests for database open failure\n- Tests for corrupt database file\n- Graceful degradation for non-critical pragma failures\n- Clear error messages with actionable information","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-22T23:28:44.347245-05:00","updated_at":"2025-12-23T11:24:22.028545759Z","closed_at":"2025-12-23T11:24:22.028545759Z","labels":["critical","database","error-handling"]}
{"id":"radiant-193","title":"Fix FilterRegistry to validate configs BEFORE filter creation","description":"## Problem\nFilterRegistry creates filters BEFORE validating them, allowing invalid filters to execute partial logic.\n\n**File:** src/filters/FilterRegistry.ts (lines 61-96)\n\n**Current flow:**\n1. Create filter instance (may execute logic)\n2. THEN validate\n3. If invalid, throw (but filter already partially initialized)\n\n```typescript\ncreateFromConfig(config: FilterConfig): FilterInterface {\n  const factory = this.factories.get(type);\n  \n  try {\n    const filter = factory(config);  // \u003c-- CREATED FIRST\n    const validation = filter.validate();  // \u003c-- VALIDATED AFTER\n    if (!validation.isValid) {\n      throw new Error(`Filter validation failed: ${validation.errors.join(', ')}`);\n    }\n    return filter;\n  } catch (error) {\n    // Re-wraps errors, losing stack trace\n  }\n}\n```\n\n## Issues\n- Invalid filters execute constructor logic before validation\n- Stack traces re-wrapped, losing original context\n- Multiple validation calls (constructor + validate())\n- No typed config validation\n\n## Solution\nValidate configs BEFORE creating filter instances:\n\n```typescript\ncreateFromConfig(config: FilterConfig): FilterInterface {\n  const { type } = config;\n  \n  if (!type) {\n    throw new Error('Filter configuration must have a \"type\" field');\n  }\n  \n  const factory = this.factories.get(type);\n  \n  if (!factory) {\n    throw new Error(\n      `No factory registered for filter type '${type}'. ` +\n      `Available types: ${Array.from(this.factories.keys()).join(', ')}`\n    );\n  }\n  \n  // Get metadata with optional config schema\n  const metadata = this.metadata.get(type);\n  if (metadata?.configSchema) {\n    // Validate config against schema BEFORE creation\n    const schemaValidation = this.validateConfigSchema(config, metadata.configSchema);\n    if (!schemaValidation.isValid) {\n      throw new Error(\n        `Invalid configuration for filter type '${type}': ${schemaValidation.errors.join(', ')}`\n      );\n    }\n  }\n  \n  // Create filter (now safe because config is pre-validated)\n  const filter = factory(config);\n  \n  // Post-creation validation as safety net\n  const validation = filter.validate();\n  if (!validation.isValid) {\n    throw new Error(\n      `Filter validation failed for '${type}': ${validation.errors.join(', ')}`\n    );\n  }\n  \n  return filter;\n}\n\nprivate validateConfigSchema(config: FilterConfig, schema: any): { isValid: boolean; errors: string[] } {\n  // Implement schema validation logic\n  // Could use a library like Zod or Ajv\n  const errors: string[] = [];\n  // ... validation logic ...\n  return { isValid: errors.length === 0, errors };\n}\n```\n\n## Tasks\n1. Add validateConfigSchema() method to FilterRegistry\n2. Move config validation BEFORE factory() call\n3. Don't re-wrap errors - preserve original stack traces\n4. Add type-safe config schemas to filter metadata\n5. Update registerBuiltInFilters() to include config schemas\n6. Write tests for invalid config rejection\n7. Write tests for error message quality\n\n## Files to modify\n- src/filters/FilterRegistry.ts (add pre-validation)\n- src/filters/registerFilters.ts (add config schemas)\n- src/filters/FilterRegistry.test.ts (add validation tests)\n- Consider: add Zod for schema validation (optional)","acceptance_criteria":"- Config validated BEFORE filter creation\n- Original stack traces preserved (no error re-wrapping)\n- Tests verify invalid configs rejected before construction\n- Config schemas defined for all built-in filters\n- Clear error messages indicating which field is invalid\n- No regression in existing filter functionality","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-22T23:29:04.747104-05:00","updated_at":"2025-12-22T23:29:04.747104-05:00","labels":["filters","high","validation"]}
{"id":"radiant-194","title":"Add error handling and rollback to tagsRepository transactions","description":"## Problem\nTransaction in setTagsForNote() lacks error handling and can leave tags in partially updated state.\n\n**File:** src/database/tagsRepository.ts (lines 66-83)\n\n**Current code:**\n```typescript\nsetTagsForNote(noteId: string, tagNames: string[]): void {\n  const transaction = this.db.transaction(() =\u003e {\n    this.db.prepare('DELETE FROM note_tags WHERE note_id = ?').run(noteId);\n    \n    for (const tagName of tagNames) {\n      const tag = this.getOrCreateTag(tagName);  // Can throw\n      this.db.prepare('INSERT INTO note_tags (note_id, tag_id) VALUES (?, ?)').run(\n        noteId,\n        tag.id\n      );\n    }\n  });\n  \n  transaction();  // No error handling\n}\n```\n\n## Issues\n- If getOrCreateTag() throws, DELETE succeeded but INSERTs failed = corrupted state\n- No error handling around transaction execution\n- No retry mechanism for database locked errors\n- Silent failures possible\n\n## Solution\nAdd proper error handling with rollback:\n\n```typescript\nsetTagsForNote(noteId: string, tagNames: string[]): void {\n  const transaction = this.db.transaction((noteId: string, tagNames: string[]) =\u003e {\n    // Delete existing tags\n    this.db.prepare('DELETE FROM note_tags WHERE note_id = ?').run(noteId);\n    \n    // Add new tags\n    for (const tagName of tagNames) {\n      const tag = this.getOrCreateTag(tagName);\n      this.db.prepare('INSERT INTO note_tags (note_id, tag_id) VALUES (?, ?)').run(\n        noteId,\n        tag.id\n      );\n    }\n  });\n  \n  try {\n    transaction(noteId, tagNames);\n  } catch (error) {\n    const sqliteError = error as any;\n    \n    // Handle specific SQLite errors\n    if (sqliteError.code === 'SQLITE_BUSY') {\n      // Retry logic for locked database\n      logger.warn(`Database locked while setting tags for note ${noteId}, retrying...`);\n      // Implement retry with backoff\n      throw new Error(`Database is locked, please try again`, { cause: error });\n    }\n    \n    if (sqliteError.code === 'SQLITE_CONSTRAINT') {\n      throw new Error(\n        `Constraint violation setting tags for note ${noteId}: ${sqliteError.message}`,\n        { cause: error }\n      );\n    }\n    \n    logger.error(`Failed to set tags for note ${noteId}`, error);\n    throw new Error(`Failed to update note tags: ${error.message}`, { cause: error });\n  }\n}\n```\n\n## Tasks\n1. Add try-catch around transaction execution\n2. Handle SQLITE_BUSY with retry logic (max 3 retries with exponential backoff)\n3. Handle SQLITE_CONSTRAINT with clear error message\n4. Handle other SQLite error codes\n5. Add logging for transaction failures\n6. Write tests for transaction rollback on error\n7. Write tests for retry logic on database locked\n8. Write tests for constraint violations\n\n## Files to modify\n- src/database/tagsRepository.ts (add error handling)\n- src/database/tagsRepository.test.ts (add error scenario tests)","acceptance_criteria":"- Transaction wrapped in try-catch\n- Automatic rollback on any error (Better-SQLite3 does this)\n- Retry logic for SQLITE_BUSY (max 3 retries, exponential backoff)\n- Clear error messages for different failure types\n- Tests verify rollback leaves no partial state\n- Tests verify retry logic works\n- Tests verify constraint violations handled properly","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-22T23:29:23.035825-05:00","updated_at":"2025-12-22T23:29:23.035825-05:00","labels":["database","high","transactions"]}
{"id":"radiant-195","title":"Standardize error handling patterns across codebase","description":"Codebase uses 3 inconsistent error handling patterns. Pattern 1 swallows errors (notesService:203), Pattern 2 always re-throws (createIpcHandler), Pattern 3 conditional re-throw (withLoading). Need to establish consistent strategy: Repository throws, Service wraps and re-throws, IPC catches and returns, Renderer handles state. Tasks: Document strategy in DEVELOPMENT.md, Update each layer, Remove silent swallowing in enrichNoteWithContent, Add tests for error propagation.","acceptance_criteria":"Error handling strategy documented. No silent swallowing. Consistent pattern per layer. Tests verify propagation. Users see meaningful errors.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:30:33.446034-05:00","updated_at":"2025-12-22T23:30:33.446034-05:00","labels":["architecture","error-handling","high"]}
{"id":"radiant-196","title":"Add input validation to repository layer methods","description":"Repository methods lack input validation before database/file operations. notesRepository.createNote accepts invalid noteId, oversized titles, bad file paths. tagsRepository.getOrCreateTag no validation. fileManager.writeNote no path validation. Risks: duplicate IDs crash, constraint violations, filesystem corruption. Solution: Validate all inputs (type, length, format, uniqueness) before operations. Files: notesRepository.ts, tagsRepository.ts, fileManager.ts and their tests.","acceptance_criteria":"All inputs validated. Clear error messages. Duplicate detection. Length limits enforced (title \u003c=255). File path validation. Boundary tests.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-12-22T23:30:33.470117-05:00","updated_at":"2025-12-22T23:30:33.470117-05:00","labels":["high","security","validation"]}
{"id":"radiant-197","title":"Fix date calculation edge cases in DateRangeFilter","description":"DateRangeFilter (lines 207-287) has hardcoded calculations prone to errors. TODAY uses nowSec not midnight. Week calculations assume Monday start (locale-dependent). LAST_WEEK may be off-by-one (+7 should be +6?). No DST tests. Duplicated logic. Solution: Extract date utilities, use consistent midnight boundaries, make week start configurable, add DST/leap year tests. Create src/utils/dateUtils.ts for reusable functions.","acceptance_criteria":"Week start configurable. TODAY is midnight-to-midnight. No off-by-one errors. Tests for DST transitions. Tests for year boundaries. Date logic extracted to utils.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-22T23:30:33.518106-05:00","updated_at":"2025-12-22T23:30:33.518106-05:00","labels":["date-handling","filters","medium"]}
{"id":"radiant-198","title":"Add input sanitization to NotesService","description":"NotesService.createNote validates but doesn't sanitize (lines 34-80). Whitespace not trimmed. Empty content bypasses validation. Tags not deduplicated. No case normalization. Title could be all spaces. Solution: Trim inputs before validation, deduplicate tags (case-insensitive), normalize tag casing, reject whitespace-only titles, enforce consistent tag format. Update validation.ts helpers.","acceptance_criteria":"Inputs trimmed before validation. Tags deduplicated. Whitespace-only titles rejected. Tags normalized to lowercase. Tests for sanitization.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-12-22T23:30:33.542004-05:00","updated_at":"2025-12-22T23:30:33.542004-05:00","labels":["data-quality","medium","validation"]}
{"id":"radiant-199","title":"Add validation result caching to filter system","description":"FilterInterface.isValid() and getValidationErrors() both call validate(), running expensive validation twice. In loops this compounds. Solution: Add _validationCache to FilterInterface base class, rename validate()-\u003evalidateImpl() in subclasses, create caching validate() wrapper, add invalidateCache() for config changes. Files: FilterInterface.ts, TagFilter.ts, DateRangeFilter.ts, ContentFilter.ts, CompositeFilter.ts. Include performance benchmark.","acceptance_criteria":"Validation cached after first call. Multiple calls use cache. Cache invalidates on config change. Tests verify caching. Performance benchmark shows improvement.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-22T23:30:54.780237-05:00","updated_at":"2025-12-22T23:30:54.780237-05:00","labels":["filters","medium","performance"]}
{"id":"radiant-200","title":"Add test coverage for FileManager error scenarios","description":"FileManager tests only cover happy path. Missing error scenarios: permission denied, disk full, file already exists, invalid path characters, symlink conflicts. Also missing for database connection.ts: connection failures, corrupt database, locked DB, migration failures. Service errors: partial failures (file write succeeds but DB fails), concurrent modifications, file/DB sync issues. Create comprehensive error scenario tests.","acceptance_criteria":"Tests for EACCES permission denied. Tests for ENOSPC disk full. Tests for EEXIST file exists. Tests for invalid paths. Tests for symlinks. Tests for corrupt database. Tests for partial failures.","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-22T23:30:54.813278-05:00","updated_at":"2025-12-22T23:30:54.813278-05:00","labels":["file-system","high","testing"]}
{"id":"radiant-201","title":"Add edge case tests for filters","description":"Missing edge case tests: DateRangeFilter - DST transitions, leap seconds, year boundaries, negative timestamps, very large timestamps (year 2500). ContentFilter - empty regex, catastrophic backtracking regex, \u003e1MB content, special characters, different encodings. NotesService - concurrent updates to same note, delete while updating, rapid create/delete cycles. Write comprehensive edge case test suite.","acceptance_criteria":"DateRangeFilter DST tests. Year boundary tests. ContentFilter regex tests. Large content tests. Concurrency tests for NotesService.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-22T23:30:54.840372-05:00","updated_at":"2025-12-22T23:30:54.840372-05:00","labels":["filters","medium","testing"]}
{"id":"radiant-202","title":"Replace magic numbers with named constants","description":"Magic numbers throughout codebase: DateRangeFilter has 7*24*60*60 (seconds per week), config/validation.ts has 1000000 (1MB unclear), connection.ts has 10000 (cache size), NORMAL (synchronous level). Create src/constants.ts with TIME_CONSTANTS (SECONDS_PER_DAY, SECONDS_PER_WEEK), DATABASE_CONSTANTS (CACHE_SIZE, WAL_TIMEOUT), VALIDATION_CONSTANTS. Update all files to use constants.","acceptance_criteria":"All magic numbers replaced with named constants. Constants file created. Clear documentation for each constant. All files updated.","status":"open","priority":3,"issue_type":"chore","created_at":"2025-12-22T23:30:54.866601-05:00","updated_at":"2025-12-22T23:30:54.866601-05:00","labels":["code-quality","low","refactoring"]}
{"id":"radiant-203","title":"Extract duplicated operator description code to utility module","description":"ContentFilter.ts (241-260) and DateRangeFilter.ts (292-319) have nearly identical getOperatorDescription/getPresetDescription switch statements. Create src/filters/utils/descriptions.ts with getComparisonOperatorDescription() and getDateRangePresetDescription() functions. Update both filters to use shared utilities. Add tests for description functions.","acceptance_criteria":"Shared descriptions.ts module created. Both filters use shared functions. No duplicated switch statements. Tests for all operators and presets.","status":"open","priority":3,"issue_type":"chore","created_at":"2025-12-22T23:30:54.893743-05:00","updated_at":"2025-12-22T23:30:54.893743-05:00","labels":["code-quality","dry","low"]}
{"id":"radiant-204","title":"Fix inconsistent null handling for tags field","description":"Inconsistent null handling for tags field. notesStore.ts:195 assumes tags always present. TagFilter.ts:149 uses tags || []. types/index.ts:52 declares tags: string[] (never optional). Solution: Make tags field consistently required but always array (never null/undefined). Update type definitions, add runtime guards where needed, ensure all code paths handle empty array [] instead of null. Update Note and NoteWithContent types.","acceptance_criteria":"tags field never null/undefined, always string[]. All code uses empty array check. Type definitions updated. Runtime guards added. Tests verify empty array handling.","status":"open","priority":3,"issue_type":"bug","created_at":"2025-12-22T23:31:20.197704-05:00","updated_at":"2025-12-22T23:31:20.197704-05:00","labels":["consistency","low","type-safety"]}
{"id":"radiant-205","title":"Add comprehensive logging to error and state transition paths","description":"Missing logging in silent failure paths. notesService.ts:193-217 logs error but state inconsistent. notesStore error state doesn't capture which operation failed partially. Solution: Add structured logging with operation context, log state before/after errors, add operation IDs for tracing, log partial failure details. Update logger to support structured fields. Add log levels (error/warn/info) appropriately.","acceptance_criteria":"All errors logged with full context. State transitions logged. Operation IDs for tracing. Partial failures clearly identified. Structured logging fields.","status":"open","priority":3,"issue_type":"chore","created_at":"2025-12-22T23:31:20.224664-05:00","updated_at":"2025-12-22T23:31:20.224664-05:00","labels":["logging","low","observability"]}
{"id":"radiant-206","title":"Fix shallow cloning issues in filter clone methods","description":"Filter clone() methods use shallow copy which shares nested arrays. CompositeFilter.ts:186-195 uses filters.map(f =\u003e ({ ...f })) which is shallow - if FilterConfig contains arrays, they're shared between original and clone. Solution: Implement deep cloning for configs, use structuredClone() or JSON.parse(JSON.stringify()), add tests to verify clone independence, ensure modifying cloned config doesn't affect original.","acceptance_criteria":"Deep cloning for filter configs. Clones fully independent. Tests verify no shared references. Works with nested FilterConfig structures.","status":"open","priority":3,"issue_type":"bug","created_at":"2025-12-22T23:31:20.249525-05:00","updated_at":"2025-12-22T23:31:20.249525-05:00","labels":["correctness","filters","low"]}
{"id":"radiant-207","title":"Add event emitter pattern for store state changes audit trail","description":"No audit trail for state changes, harder to debug. notesStore.ts:60-68 does direct state mutation with no tracking. Solution: Add EventEmitter pattern to stores, emit events for state changes (note-created, note-updated, note-deleted), add DevTools integration for state inspection, implement state history (last N changes), add replay capability for debugging. Consider Zustand middleware for this.","acceptance_criteria":"State changes emit events. Event history maintained. DevTools integration working. Can replay state changes. Debugging tools functional.","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-22T23:31:20.277476-05:00","updated_at":"2025-12-22T23:31:20.277476-05:00","labels":["architecture","debugging","low"]}
{"id":"radiant-208","title":"Code quality improvements - architectural issues","description":"Parent epic for architectural improvements: Issue 11 - Tight coupling between services and repositories makes testing harder. Services use Proxy singletons internally even though constructors accept dependencies. Issue 12 - ContentFilter regex compilation duplicated in constructor and validate(). Multiple validation paths with different error handling. This epic tracks refactoring to improve testability and separation of concerns.","acceptance_criteria":"Dependency injection working properly. No circular dependencies. Validation logic centralized. Tests can inject mocks easily.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-22T23:31:20.299986-05:00","updated_at":"2025-12-22T23:31:20.299986-05:00","labels":["architecture","medium","technical-debt"]}
{"id":"radiant-2xk","title":"Feature: Implement searchNotes action in store","description":"IPC handler for searchNotes exists but no corresponding store action. Current client-side search loads all note content into memory, won't scale.\n\nLocation: src/renderer/stores/notesStore.ts (missing action)\nImpact: Medium - scalability issue for large note collections\nApproach: Add searchNotes() action with loading state, use server-side search","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T22:49:14.116664-05:00","updated_at":"2025-12-18T22:49:14.116664-05:00"}
{"id":"radiant-3h9","title":"Phase 7: Automated Narrative Generation","description":"Implement scheduled daily narrative generation with node-cron, multi-tier summarization (daily→weekly→monthly), state machine for narrative lifecycle, and incremental summarization logic.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-18T22:36:04.010938-05:00","updated_at":"2025-12-18T22:36:04.010938-05:00","labels":["ai-assisted"],"dependencies":[{"issue_id":"radiant-3h9","depends_on_id":"radiant-3p1","type":"blocks","created_at":"2025-12-18T22:41:41.458425-05:00","created_by":"daemon"}]}
{"id":"radiant-3h9.1","title":"Install and configure node-cron","description":"Install node-cron package. Set up daily task runner (11 PM). Test scheduling in background worker window.","status":"open","priority":2,"issue_type":"task","estimated_minutes":45,"created_at":"2025-12-18T22:38:05.247645-05:00","updated_at":"2025-12-18T22:38:05.247645-05:00","labels":["ai-assisted","scheduling"],"dependencies":[{"issue_id":"radiant-3h9.1","depends_on_id":"radiant-3h9","type":"parent-child","created_at":"2025-12-18T22:38:05.249774-05:00","created_by":"daemon"}]}
{"id":"radiant-3h9.2","title":"Implement notification system","description":"Set up native OS notifications. Create notification templates for narratives ready. Handle user interaction (click to view).","status":"open","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-18T22:38:05.462762-05:00","updated_at":"2025-12-18T22:38:05.462762-05:00","labels":["ai-assisted","notifications"],"dependencies":[{"issue_id":"radiant-3h9.2","depends_on_id":"radiant-3h9","type":"parent-child","created_at":"2025-12-18T22:38:05.463178-05:00","created_by":"daemon"}]}
{"id":"radiant-3h9.3","title":"Create summary storage schema","description":"Design database table for generated narratives. Fields: id, type (daily/weekly/monthly), content, source_notes, created_at. Add indexes.","status":"open","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-18T22:38:05.675581-05:00","updated_at":"2025-12-18T22:38:05.675581-05:00","labels":["ai-assisted","database"],"dependencies":[{"issue_id":"radiant-3h9.3","depends_on_id":"radiant-3h9","type":"parent-child","created_at":"2025-12-18T22:38:05.675983-05:00","created_by":"daemon"}]}
{"id":"radiant-3h9.4","title":"Build UI for viewing summaries","description":"Create Svelte component to display past summaries. Show timeline view. Support filtering by type and date range.","status":"open","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-18T22:38:05.891709-05:00","updated_at":"2025-12-18T22:38:05.891709-05:00","labels":["ai-assisted","ui"],"dependencies":[{"issue_id":"radiant-3h9.4","depends_on_id":"radiant-3h9","type":"parent-child","created_at":"2025-12-18T22:38:05.892127-05:00","created_by":"daemon"}]}
{"id":"radiant-3h9.5","title":"Design narrative state machine","description":"Define states: raw notes → daily → weekly → monthly. Implement transitions and lifecycle management. Handle state validation.","status":"open","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-18T22:38:06.108759-05:00","updated_at":"2025-12-18T22:38:06.108759-05:00","labels":["manual-implementation","state-machine"],"dependencies":[{"issue_id":"radiant-3h9.5","depends_on_id":"radiant-3h9","type":"parent-child","created_at":"2025-12-18T22:38:06.109156-05:00","created_by":"daemon"},{"issue_id":"radiant-3h9.5","depends_on_id":"radiant-3h9.3","type":"blocks","created_at":"2025-12-18T22:42:04.470452-05:00","created_by":"daemon"}]}
{"id":"radiant-3h9.6","title":"Implement incremental summarization","description":"Build logic for multi-tier summarization. Day 1-7: daily summaries. Week end: synthesize into weekly. Month end: create monthly summary.","status":"open","priority":2,"issue_type":"task","estimated_minutes":150,"created_at":"2025-12-18T22:38:06.322563-05:00","updated_at":"2025-12-18T22:38:06.322563-05:00","labels":["manual-implementation","summarization"],"dependencies":[{"issue_id":"radiant-3h9.6","depends_on_id":"radiant-3h9","type":"parent-child","created_at":"2025-12-18T22:38:06.322929-05:00","created_by":"daemon"},{"issue_id":"radiant-3h9.6","depends_on_id":"radiant-3h9.5","type":"blocks","created_at":"2025-12-18T22:42:04.595889-05:00","created_by":"daemon"}]}
{"id":"radiant-3h9.7","title":"Build dependency tracking system","description":"Track dependencies (weekly requires all 7 dailies). Validate prerequisites before generation. Handle missing summaries gracefully.","status":"open","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-18T22:38:06.537375-05:00","updated_at":"2025-12-18T22:38:06.537375-05:00","labels":["dependency-management","manual-implementation"],"dependencies":[{"issue_id":"radiant-3h9.7","depends_on_id":"radiant-3h9","type":"parent-child","created_at":"2025-12-18T22:38:06.537736-05:00","created_by":"daemon"},{"issue_id":"radiant-3h9.7","depends_on_id":"radiant-3h9.6","type":"blocks","created_at":"2025-12-18T22:42:04.734877-05:00","created_by":"daemon"}]}
{"id":"radiant-3h9.8","title":"Implement cache invalidation","description":"Detect when source notes change. Invalidate dependent summaries. Trigger regeneration when needed.","status":"open","priority":2,"issue_type":"task","estimated_minutes":75,"created_at":"2025-12-18T22:38:06.752453-05:00","updated_at":"2025-12-18T22:38:06.752453-05:00","labels":["caching","manual-implementation"],"dependencies":[{"issue_id":"radiant-3h9.8","depends_on_id":"radiant-3h9","type":"parent-child","created_at":"2025-12-18T22:38:06.752804-05:00","created_by":"daemon"}]}
{"id":"radiant-3h9.9","title":"Add 'regenerate summary' functionality","description":"Create UI button to manually trigger regeneration. Pass updated notes to strategy. Replace existing summary.","status":"open","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-18T22:38:06.967226-05:00","updated_at":"2025-12-18T22:38:06.967226-05:00","labels":["manual-implementation","ui"],"dependencies":[{"issue_id":"radiant-3h9.9","depends_on_id":"radiant-3h9","type":"parent-child","created_at":"2025-12-18T22:38:06.967579-05:00","created_by":"daemon"}]}
{"id":"radiant-3p1","title":"Phase 6: AI Prompt Strategy System","description":"Design PromptStrategy base class with template method pattern, PromptRegistry, and concrete strategies (DailySummary, WeeklySynthesis, MorningBriefing, YearEndReview). Manual implementation to learn async patterns.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-18T22:36:03.792514-05:00","updated_at":"2025-12-18T22:36:03.792514-05:00","labels":["learning","manual-implementation"],"dependencies":[{"issue_id":"radiant-3p1","depends_on_id":"radiant-fot","type":"blocks","created_at":"2025-12-18T22:41:41.268974-05:00","created_by":"daemon"}]}
{"id":"radiant-3p1.1","title":"Design PromptStrategy base class","description":"Create abstract PromptStrategy class using template method pattern. Define lifecycle hooks: prepare(), buildPrompt(), formatResponse(). Establish strategy contract.","status":"open","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-18T22:37:42.901852-05:00","updated_at":"2025-12-18T22:37:42.901852-05:00","labels":["architecture","manual-implementation"],"dependencies":[{"issue_id":"radiant-3p1.1","depends_on_id":"radiant-3p1","type":"parent-child","created_at":"2025-12-18T22:37:42.9049-05:00","created_by":"daemon"}]}
{"id":"radiant-3p1.10","title":"Add context management","description":"Implement context window management. Pass previous summaries to strategies. Handle context length limits (4K, 8K, 100K tokens).","status":"open","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-18T22:37:44.853244-05:00","updated_at":"2025-12-18T22:37:44.853244-05:00","labels":["context-management","manual-implementation"],"dependencies":[{"issue_id":"radiant-3p1.10","depends_on_id":"radiant-3p1","type":"parent-child","created_at":"2025-12-18T22:37:44.853605-05:00","created_by":"daemon"}]}
{"id":"radiant-3p1.2","title":"Implement PromptRegistry","description":"Create registry for dynamic strategy registration. Support strategy discovery by name/type. Enable runtime strategy selection.","status":"open","priority":2,"issue_type":"task","estimated_minutes":75,"created_at":"2025-12-18T22:37:43.130591-05:00","updated_at":"2025-12-18T22:37:43.130591-05:00","labels":["architecture","manual-implementation"],"dependencies":[{"issue_id":"radiant-3p1.2","depends_on_id":"radiant-3p1","type":"parent-child","created_at":"2025-12-18T22:37:43.131-05:00","created_by":"daemon"}]}
{"id":"radiant-3p1.3","title":"Implement DailySummaryStrategy","description":"Create strategy for end-of-day narrative generation. Extract key activities, themes, ideas. Generate 300-word summary in first person.","status":"open","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-18T22:37:43.34876-05:00","updated_at":"2025-12-18T22:37:43.34876-05:00","labels":["manual-implementation","prompt-strategy"],"dependencies":[{"issue_id":"radiant-3p1.3","depends_on_id":"radiant-3p1","type":"parent-child","created_at":"2025-12-18T22:37:43.349155-05:00","created_by":"daemon"},{"issue_id":"radiant-3p1.3","depends_on_id":"radiant-3p1.1","type":"blocks","created_at":"2025-12-18T22:42:04.013457-05:00","created_by":"daemon"}]}
{"id":"radiant-3p1.4","title":"Implement WeeklySynthesisStrategy","description":"Create strategy for week-in-review generation. Synthesize 7 daily summaries. Identify patterns and themes across the week.","status":"open","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-18T22:37:43.56255-05:00","updated_at":"2025-12-18T22:37:43.56255-05:00","labels":["manual-implementation","prompt-strategy"],"dependencies":[{"issue_id":"radiant-3p1.4","depends_on_id":"radiant-3p1","type":"parent-child","created_at":"2025-12-18T22:37:43.562952-05:00","created_by":"daemon"},{"issue_id":"radiant-3p1.4","depends_on_id":"radiant-3p1.1","type":"blocks","created_at":"2025-12-18T22:42:04.140396-05:00","created_by":"daemon"}]}
{"id":"radiant-3p1.5","title":"Implement MorningBriefingStrategy","description":"Create strategy for morning reminders. Extract today's agenda, forgotten items from yesterday. Generate actionable briefing.","status":"open","priority":2,"issue_type":"task","estimated_minutes":75,"created_at":"2025-12-18T22:37:43.770819-05:00","updated_at":"2025-12-18T22:37:43.770819-05:00","labels":["manual-implementation","prompt-strategy"],"dependencies":[{"issue_id":"radiant-3p1.5","depends_on_id":"radiant-3p1","type":"parent-child","created_at":"2025-12-18T22:37:43.771218-05:00","created_by":"daemon"}]}
{"id":"radiant-3p1.6","title":"Implement YearEndReviewStrategy","description":"Create strategy for annual review generation. Synthesize monthly summaries. Identify accomplishments, learnings, growth areas.","status":"open","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-18T22:37:43.989453-05:00","updated_at":"2025-12-18T22:37:43.989453-05:00","labels":["manual-implementation","prompt-strategy"],"dependencies":[{"issue_id":"radiant-3p1.6","depends_on_id":"radiant-3p1","type":"parent-child","created_at":"2025-12-18T22:37:43.989823-05:00","created_by":"daemon"},{"issue_id":"radiant-3p1.6","depends_on_id":"radiant-3p1.1","type":"blocks","created_at":"2025-12-18T22:42:04.268515-05:00","created_by":"daemon"}]}
{"id":"radiant-3p1.7","title":"Implement ActionItemExtractionStrategy","description":"Create LLM-based action item extraction. Parse notes for tasks, deadlines, commitments. Return structured action items.","status":"open","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-18T22:37:44.203454-05:00","updated_at":"2025-12-18T22:37:44.203454-05:00","labels":["manual-implementation","prompt-strategy"],"dependencies":[{"issue_id":"radiant-3p1.7","depends_on_id":"radiant-3p1","type":"parent-child","created_at":"2025-12-18T22:37:44.203833-05:00","created_by":"daemon"}]}
{"id":"radiant-3p1.8","title":"Build prompt template system","description":"Implement template literals with variable substitution. Support context injection (previous summaries, preferences). Handle template validation.","status":"open","priority":2,"issue_type":"task","estimated_minutes":105,"created_at":"2025-12-18T22:37:44.425224-05:00","updated_at":"2025-12-18T22:37:44.425224-05:00","labels":["manual-implementation","templating"],"dependencies":[{"issue_id":"radiant-3p1.8","depends_on_id":"radiant-3p1","type":"parent-child","created_at":"2025-12-18T22:37:44.425564-05:00","created_by":"daemon"}]}
{"id":"radiant-3p1.9","title":"Create prompt configuration system","description":"Design YAML/JSON schema for prompt definitions. Implement configuration loader. Support prompt versioning and iterations.","status":"open","priority":2,"issue_type":"task","estimated_minutes":75,"created_at":"2025-12-18T22:37:44.641696-05:00","updated_at":"2025-12-18T22:37:44.641696-05:00","labels":["configuration","manual-implementation"],"dependencies":[{"issue_id":"radiant-3p1.9","depends_on_id":"radiant-3p1","type":"parent-child","created_at":"2025-12-18T22:37:44.642072-05:00","created_by":"daemon"}]}
{"id":"radiant-7wa","title":"Phase 8: Polish and Production Features","description":"Add auto-save, export functionality (Markdown/PDF/JSON), settings panel, keyboard shortcut system, undo/redo, onboarding flow, backup system, and data migration utilities.","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-18T22:36:04.238755-05:00","updated_at":"2025-12-18T22:36:04.238755-05:00","labels":["ai-generated"],"dependencies":[{"issue_id":"radiant-7wa","depends_on_id":"radiant-cj2","type":"blocks","created_at":"2025-12-18T22:41:41.646102-05:00","created_by":"daemon"},{"issue_id":"radiant-7wa","depends_on_id":"radiant-yzi","type":"blocks","created_at":"2025-12-18T22:41:41.773227-05:00","created_by":"daemon"},{"issue_id":"radiant-7wa","depends_on_id":"radiant-3h9","type":"blocks","created_at":"2025-12-18T22:41:41.898616-05:00","created_by":"daemon"}]}
{"id":"radiant-7wa.1","title":"Implement auto-save enhancement","description":"Improve existing auto-save with better debouncing. Add visual indicators. Handle save conflicts gracefully.","status":"open","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-18T22:38:25.649081-05:00","updated_at":"2025-12-18T22:38:25.649081-05:00","labels":["ai-assisted","auto-save"],"dependencies":[{"issue_id":"radiant-7wa.1","depends_on_id":"radiant-7wa","type":"parent-child","created_at":"2025-12-18T22:38:25.651233-05:00","created_by":"daemon"}]}
{"id":"radiant-7wa.2","title":"Add export functionality","description":"Export notes as Markdown (bundled .md files). Export as PDF (using electron print API). Export as JSON (for backup/migration).","status":"open","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-18T22:38:25.876821-05:00","updated_at":"2025-12-18T22:38:25.876821-05:00","labels":["ai-assisted","export"],"dependencies":[{"issue_id":"radiant-7wa.2","depends_on_id":"radiant-7wa","type":"parent-child","created_at":"2025-12-18T22:38:25.877273-05:00","created_by":"daemon"}]}
{"id":"radiant-7wa.3","title":"Build settings panel","description":"Create settings UI (preferences, API keys, theme). Use Electron dialog or in-app modal. Persist settings to electron-store.","status":"open","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-18T22:38:26.091235-05:00","updated_at":"2025-12-18T22:38:26.091235-05:00","labels":["ai-assisted","settings"],"dependencies":[{"issue_id":"radiant-7wa.3","depends_on_id":"radiant-7wa","type":"parent-child","created_at":"2025-12-18T22:38:26.09166-05:00","created_by":"daemon"}]}
{"id":"radiant-7wa.4","title":"Implement customizable keyboard shortcuts","description":"Create shortcut configuration system. Allow users to customize shortcuts. Show shortcut hints in UI.","status":"open","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-18T22:38:26.302935-05:00","updated_at":"2025-12-18T22:38:26.302935-05:00","labels":["ai-assisted","keyboard-shortcuts"],"dependencies":[{"issue_id":"radiant-7wa.4","depends_on_id":"radiant-7wa","type":"parent-child","created_at":"2025-12-18T22:38:26.303375-05:00","created_by":"daemon"}]}
{"id":"radiant-7wa.5","title":"Add enhanced undo/redo","description":"Extend TipTap's undo/redo. Add history panel showing recent changes. Support undo across app restarts.","status":"open","priority":2,"issue_type":"task","estimated_minutes":75,"created_at":"2025-12-18T22:38:26.514031-05:00","updated_at":"2025-12-18T22:38:26.514031-05:00","labels":["ai-assisted","undo-redo"],"dependencies":[{"issue_id":"radiant-7wa.5","depends_on_id":"radiant-7wa","type":"parent-child","created_at":"2025-12-18T22:38:26.514431-05:00","created_by":"daemon"}]}
{"id":"radiant-7wa.6","title":"Create onboarding flow","description":"Build first-run experience. Explain key features. Collect user preferences (AI API key, theme). Show sample notes.","status":"open","priority":2,"issue_type":"task","estimated_minutes":105,"created_at":"2025-12-18T22:38:26.72229-05:00","updated_at":"2025-12-18T22:38:26.72229-05:00","labels":["ai-assisted","onboarding"],"dependencies":[{"issue_id":"radiant-7wa.6","depends_on_id":"radiant-7wa","type":"parent-child","created_at":"2025-12-18T22:38:26.722654-05:00","created_by":"daemon"}]}
{"id":"radiant-7wa.7","title":"Implement backup system","description":"Auto-backup database and notes to local directory. Support manual backup trigger. Include restore functionality.","status":"open","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-18T22:38:26.939575-05:00","updated_at":"2025-12-18T22:38:26.939575-05:00","labels":["ai-assisted","backup"],"dependencies":[{"issue_id":"radiant-7wa.7","depends_on_id":"radiant-7wa","type":"parent-child","created_at":"2025-12-18T22:38:26.939976-05:00","created_by":"daemon"}]}
{"id":"radiant-7wa.8","title":"Add data migration utilities","description":"Import from other note apps (Obsidian, Notion, Evernote). Handle format conversion. Validate imported data.","status":"open","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-18T22:38:27.15699-05:00","updated_at":"2025-12-18T22:38:27.15699-05:00","labels":["ai-assisted","migration"],"dependencies":[{"issue_id":"radiant-7wa.8","depends_on_id":"radiant-7wa","type":"parent-child","created_at":"2025-12-18T22:38:27.157352-05:00","created_by":"daemon"}]}
{"id":"radiant-7wa.9","title":"Polish UI and fix bugs","description":"Final UI polish pass. Fix reported bugs. Improve responsiveness. Test edge cases.","status":"open","priority":2,"issue_type":"task","estimated_minutes":180,"created_at":"2025-12-18T22:38:27.374596-05:00","updated_at":"2025-12-18T22:38:27.374596-05:00","labels":["polish","testing"],"dependencies":[{"issue_id":"radiant-7wa.9","depends_on_id":"radiant-7wa","type":"parent-child","created_at":"2025-12-18T22:38:27.374961-05:00","created_by":"daemon"}]}
{"id":"radiant-9n1","title":"Cleanup: Remove unused IPC handler boilerplate","description":"Dead code in main.ts (lines 20-28): unused IPC handler with on/send pattern. No corresponding renderer code calls this, leftover from template.\n\nImpact: Low - 8 lines of dead code, causes confusion about IPC API\nApproach: Delete entirely","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T22:49:12.946792-05:00","updated_at":"2025-12-22T08:22:33.823908-05:00","closed_at":"2025-12-21T13:05:53.604757107Z"}
{"id":"radiant-cj2","title":"Phase 3: Note Filter System","description":"Implement configuration-driven filter architecture with FilterInterface base class, FilterRegistry, and concrete filter implementations (TagFilter, DateRangeFilter, ContentFilter, CompositeFilter). This is manual implementation work to learn JavaScript patterns.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-18T22:36:03.122985-05:00","updated_at":"2025-12-18T22:36:03.122985-05:00","labels":["learning","manual-implementation"]}
{"id":"radiant-cj2.1","title":"Design FilterInterface base class","description":"Create base class/interface for all filters. Define common methods: apply(notes), serialize(), deserialize(). Establish contract for filter implementations.","status":"closed","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-18T22:36:36.44671-05:00","updated_at":"2025-12-19T22:13:39.102984-05:00","closed_at":"2025-12-19T12:48:26.098551979Z","labels":["architecture","manual-implementation"],"dependencies":[{"issue_id":"radiant-cj2.1","depends_on_id":"radiant-cj2","type":"parent-child","created_at":"2025-12-18T22:36:36.449483-05:00","created_by":"daemon"}]}
{"id":"radiant-cj2.10","title":"Build filter UI component","description":"Create Svelte component for filter selection and configuration. Integrate with existing sidebar. Show active filters and allow removal.","status":"open","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-18T22:36:38.408441-05:00","updated_at":"2025-12-18T22:36:38.408441-05:00","labels":["manual-implementation","ui"],"dependencies":[{"issue_id":"radiant-cj2.10","depends_on_id":"radiant-cj2","type":"parent-child","created_at":"2025-12-18T22:36:38.408807-05:00","created_by":"daemon"},{"issue_id":"radiant-cj2.10","depends_on_id":"radiant-cj2.2","type":"blocks","created_at":"2025-12-18T22:41:53.370362-05:00","created_by":"daemon"},{"issue_id":"radiant-cj2.10","depends_on_id":"radiant-cj2.3","type":"blocks","created_at":"2025-12-18T22:41:53.498658-05:00","created_by":"daemon"}]}
{"id":"radiant-cj2.2","title":"Implement FilterRegistry","description":"Create registry system for dynamic filter registration. Support filter discovery, instantiation by type, and listing available filters. Use Map data structure.","status":"open","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-18T22:36:36.659122-05:00","updated_at":"2025-12-18T22:36:36.659122-05:00","labels":["architecture","manual-implementation"],"dependencies":[{"issue_id":"radiant-cj2.2","depends_on_id":"radiant-cj2","type":"parent-child","created_at":"2025-12-18T22:36:36.659543-05:00","created_by":"daemon"}]}
{"id":"radiant-cj2.3","title":"Implement TagFilter","description":"Create filter for notes with specific tags. Support single tag and multiple tags. Handle tag normalization (lowercase, trim).","status":"open","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-18T22:36:36.874252-05:00","updated_at":"2025-12-18T22:36:36.874252-05:00","labels":["filter-implementation","manual-implementation"],"dependencies":[{"issue_id":"radiant-cj2.3","depends_on_id":"radiant-cj2","type":"parent-child","created_at":"2025-12-18T22:36:36.874659-05:00","created_by":"daemon"},{"issue_id":"radiant-cj2.3","depends_on_id":"radiant-cj2.1","type":"blocks","created_at":"2025-12-18T22:41:52.154221-05:00","created_by":"daemon"}]}
{"id":"radiant-cj2.4","title":"Implement DateRangeFilter","description":"Create filter for notes within date range. Support start date, end date, and single date. Handle edge cases (null dates, invalid ranges).","status":"open","priority":2,"issue_type":"task","estimated_minutes":75,"created_at":"2025-12-18T22:36:37.108826-05:00","updated_at":"2025-12-18T22:36:37.108826-05:00","labels":["filter-implementation","manual-implementation"],"dependencies":[{"issue_id":"radiant-cj2.4","depends_on_id":"radiant-cj2","type":"parent-child","created_at":"2025-12-18T22:36:37.109245-05:00","created_by":"daemon"},{"issue_id":"radiant-cj2.4","depends_on_id":"radiant-cj2.1","type":"blocks","created_at":"2025-12-18T22:41:52.283724-05:00","created_by":"daemon"}]}
{"id":"radiant-cj2.5","title":"Implement ContentFilter","description":"Create filter for notes containing text. Support case-insensitive search, regex patterns. Search in title and content fields.","status":"open","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-18T22:36:37.321233-05:00","updated_at":"2025-12-18T22:36:37.321233-05:00","labels":["filter-implementation","manual-implementation"],"dependencies":[{"issue_id":"radiant-cj2.5","depends_on_id":"radiant-cj2","type":"parent-child","created_at":"2025-12-18T22:36:37.321641-05:00","created_by":"daemon"},{"issue_id":"radiant-cj2.5","depends_on_id":"radiant-cj2.1","type":"blocks","created_at":"2025-12-18T22:41:52.410355-05:00","created_by":"daemon"}]}
{"id":"radiant-cj2.6","title":"Implement CompositeFilter","description":"Create filter that combines multiple filters with AND/OR logic. Support nested composition. Implement filter chain pattern.","status":"open","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-18T22:36:37.536829-05:00","updated_at":"2025-12-18T22:36:37.536829-05:00","labels":["filter-implementation","manual-implementation"],"dependencies":[{"issue_id":"radiant-cj2.6","depends_on_id":"radiant-cj2","type":"parent-child","created_at":"2025-12-18T22:36:37.537196-05:00","created_by":"daemon"},{"issue_id":"radiant-cj2.6","depends_on_id":"radiant-cj2.1","type":"blocks","created_at":"2025-12-18T22:41:52.537258-05:00","created_by":"daemon"}]}
{"id":"radiant-cj2.7","title":"Build filter configuration system","description":"Design JSON/YAML schema for filter configuration. Implement configuration loader. Support filter presets and saved filters.","status":"open","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-18T22:36:37.75781-05:00","updated_at":"2025-12-18T22:36:37.75781-05:00","labels":["configuration","manual-implementation"],"dependencies":[{"issue_id":"radiant-cj2.7","depends_on_id":"radiant-cj2","type":"parent-child","created_at":"2025-12-18T22:36:37.758167-05:00","created_by":"daemon"}]}
{"id":"radiant-cj2.8","title":"Add filter serialization/deserialization","description":"Implement toJSON() and fromJSON() methods for all filters. Support saving and loading filter configurations. Handle version compatibility.","status":"open","priority":2,"issue_type":"task","estimated_minutes":75,"created_at":"2025-12-18T22:36:37.971281-05:00","updated_at":"2025-12-18T22:36:37.971281-05:00","labels":["manual-implementation","serialization"],"dependencies":[{"issue_id":"radiant-cj2.8","depends_on_id":"radiant-cj2","type":"parent-child","created_at":"2025-12-18T22:36:37.97165-05:00","created_by":"daemon"},{"issue_id":"radiant-cj2.8","depends_on_id":"radiant-cj2.1","type":"blocks","created_at":"2025-12-18T22:41:52.727385-05:00","created_by":"daemon"},{"issue_id":"radiant-cj2.8","depends_on_id":"radiant-cj2.3","type":"blocks","created_at":"2025-12-18T22:41:52.853316-05:00","created_by":"daemon"},{"issue_id":"radiant-cj2.8","depends_on_id":"radiant-cj2.6","type":"blocks","created_at":"2025-12-18T22:41:52.979972-05:00","created_by":"daemon"}]}
{"id":"radiant-cj2.9","title":"Create unit tests for filter system","description":"Write Jest tests for all filter types. Test edge cases, error handling, composition. Aim for 80%+ coverage.","status":"open","priority":2,"issue_type":"task","estimated_minutes":180,"created_at":"2025-12-18T22:36:38.190622-05:00","updated_at":"2025-12-18T22:36:38.190622-05:00","labels":["manual-implementation","testing"],"dependencies":[{"issue_id":"radiant-cj2.9","depends_on_id":"radiant-cj2","type":"parent-child","created_at":"2025-12-18T22:36:38.191001-05:00","created_by":"daemon"},{"issue_id":"radiant-cj2.9","depends_on_id":"radiant-cj2.6","type":"blocks","created_at":"2025-12-18T22:41:53.175578-05:00","created_by":"daemon"}]}
{"id":"radiant-cz4","title":"Fix: Improve keyboard shortcut platform detection","description":"Keyboard shortcut modifier logic in keyboardShortcuts.ts allows ctrl and meta to be interchangeable, causing confusing cross-platform behavior.\n\nLocation: src/renderer/utils/keyboardShortcuts.ts (lines 23-25)\nImpact: Medium - incorrect shortcut behavior on Windows/Linux\nApproach: Use process.platform for proper macOS vs Windows/Linux detection","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T22:49:13.234961-05:00","updated_at":"2025-12-22T08:22:33.824374-05:00","closed_at":"2025-12-21T13:07:42.859533442Z"}
{"id":"radiant-fot","title":"Phase 5: AI Infrastructure Setup","description":"Set up Anthropic SDK, secure API key storage, streaming response handler with IPC bridging, and background worker window for scheduled tasks.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-18T22:36:03.576612-05:00","updated_at":"2025-12-18T22:36:03.576612-05:00","labels":["ai-generated"]}
{"id":"radiant-fot.1","title":"Install Anthropic SDK","description":"Install @anthropic-ai/sdk package. Configure TypeScript types. Test basic API connection.","status":"open","priority":2,"issue_type":"task","estimated_minutes":30,"created_at":"2025-12-18T22:37:15.833742-05:00","updated_at":"2025-12-18T22:37:15.833742-05:00","labels":["ai-assisted","setup"],"dependencies":[{"issue_id":"radiant-fot.1","depends_on_id":"radiant-fot","type":"parent-child","created_at":"2025-12-18T22:37:15.83676-05:00","created_by":"daemon"}]}
{"id":"radiant-fot.2","title":"Implement secure API key storage","description":"Use electron-store or system keychain for API key storage. Create settings UI for key entry. Validate key on save.","status":"open","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-18T22:37:16.058926-05:00","updated_at":"2025-12-18T22:37:16.058926-05:00","labels":["ai-assisted","security"],"dependencies":[{"issue_id":"radiant-fot.2","depends_on_id":"radiant-fot","type":"parent-child","created_at":"2025-12-18T22:37:16.059333-05:00","created_by":"daemon"}]}
{"id":"radiant-fot.3","title":"Create streaming response handler","description":"Implement streaming handler in main process. Bridge streaming events through IPC to renderer. Handle errors and connection issues.","status":"open","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-18T22:37:16.273509-05:00","updated_at":"2025-12-18T22:37:16.273509-05:00","labels":["ai-assisted","streaming"],"dependencies":[{"issue_id":"radiant-fot.3","depends_on_id":"radiant-fot","type":"parent-child","created_at":"2025-12-18T22:37:16.273906-05:00","created_by":"daemon"},{"issue_id":"radiant-fot.3","depends_on_id":"radiant-fot.1","type":"blocks","created_at":"2025-12-18T22:42:03.572648-05:00","created_by":"daemon"}]}
{"id":"radiant-fot.4","title":"Build streaming UI component","description":"Create Svelte component to display streaming AI text. Show loading states, progress indicator. Handle stream completion.","status":"open","priority":2,"issue_type":"task","estimated_minutes":75,"created_at":"2025-12-18T22:37:16.482494-05:00","updated_at":"2025-12-18T22:37:16.482494-05:00","labels":["ai-assisted","ui"],"dependencies":[{"issue_id":"radiant-fot.4","depends_on_id":"radiant-fot","type":"parent-child","created_at":"2025-12-18T22:37:16.482891-05:00","created_by":"daemon"},{"issue_id":"radiant-fot.4","depends_on_id":"radiant-fot.3","type":"blocks","created_at":"2025-12-18T22:42:03.697635-05:00","created_by":"daemon"}]}
{"id":"radiant-fot.5","title":"Integrate TipTap streamContent","description":"Connect AI streaming to TipTap's streamContent command. Test streaming directly into editor. Handle Markdown parsing during stream.","status":"open","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-18T22:37:16.687503-05:00","updated_at":"2025-12-18T22:37:16.687503-05:00","labels":["ai-assisted","editor-integration"],"dependencies":[{"issue_id":"radiant-fot.5","depends_on_id":"radiant-fot","type":"parent-child","created_at":"2025-12-18T22:37:16.687892-05:00","created_by":"daemon"},{"issue_id":"radiant-fot.5","depends_on_id":"radiant-fot.3","type":"blocks","created_at":"2025-12-18T22:42:03.821579-05:00","created_by":"daemon"}]}
{"id":"radiant-fot.6","title":"Create background worker window","description":"Set up hidden BrowserWindow for background tasks. Configure Node.js access. Test scheduled operation execution.","status":"open","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-18T22:37:16.893385-05:00","updated_at":"2025-12-18T22:37:16.893385-05:00","labels":["ai-assisted","background-processing"],"dependencies":[{"issue_id":"radiant-fot.6","depends_on_id":"radiant-fot","type":"parent-child","created_at":"2025-12-18T22:37:16.893778-05:00","created_by":"daemon"}]}
{"id":"radiant-fot.7","title":"Optional: Set up Ollama integration","description":"Install Ollama. Configure local model (Llama 3.2 3B). Test local inference for categorization tasks.","status":"open","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-18T22:37:17.100363-05:00","updated_at":"2025-12-18T22:37:17.100363-05:00","labels":["ai-assisted","local-ai","optional"],"dependencies":[{"issue_id":"radiant-fot.7","depends_on_id":"radiant-fot","type":"parent-child","created_at":"2025-12-18T22:37:17.100738-05:00","created_by":"daemon"}]}
{"id":"radiant-fot.8","title":"Test end-to-end AI integration","description":"Write test prompt for narrative generation. Verify streaming works. Check error handling and recovery.","status":"open","priority":2,"issue_type":"task","estimated_minutes":45,"created_at":"2025-12-18T22:37:17.31136-05:00","updated_at":"2025-12-18T22:37:17.31136-05:00","labels":["manual-implementation","testing"],"dependencies":[{"issue_id":"radiant-fot.8","depends_on_id":"radiant-fot","type":"parent-child","created_at":"2025-12-18T22:37:17.311744-05:00","created_by":"daemon"}]}
{"id":"radiant-hkp","title":"Refactor: Create reusable store subscription hook for Svelte components","description":"Identical Zustand subscription pattern repeated across 5+ Svelte components (App, Sidebar, EditorView, NoteList, Editor). Each component manually subscribes/unsubscribes.\n\nImpact: High - ~30-40 lines of boilerplate, error-prone (memory leak risk)\nApproach: Create useStore() custom hook or Svelte store wrapper","status":"done","priority":2,"issue_type":"task","created_at":"2025-12-18T22:49:10.980903-05:00","updated_at":"2025-12-22T08:22:33.824821-05:00"}
{"id":"radiant-hr2","title":"Refactor: Use lazy initialization for app configuration","description":"config.ts calls app.getPath() at module load time. Will fail if imported before app initialization, hard to test/override.\n\nLocation: src/config.ts (line 6)\nImpact: Medium - potential initialization race condition\nApproach: Use lazy initialization with cached getUserDataDir() function","status":"done","priority":2,"issue_type":"task","created_at":"2025-12-18T22:49:13.52398-05:00","updated_at":"2025-12-22T08:22:33.825253-05:00"}
{"id":"radiant-im4","title":"Refactor: Extract editor prose styles to CSS module","description":"100+ lines of global prose styling in Editor.svelte with hardcoded colors. Not reusable, makes theming difficult.\n\nLocation: src/renderer/components/Editor.svelte (lines 129-228)\nImpact: Medium - token waste, theme changes difficult\nApproach: Extract to CSS module or use Tailwind prose plugin","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T22:49:13.821589-05:00","updated_at":"2025-12-22T08:22:33.825695-05:00","closed_at":"2025-12-21T13:11:49.527724427Z"}
{"id":"radiant-m4k","title":"Fix: Use logger utility consistently throughout codebase","description":"Logger utility exists but is inconsistently used. Direct console.log/error/warn calls scattered across main.ts, connection.ts, fileManager.ts, notesService.ts, and notesHandlers.ts.\n\nImpact: Medium - no centralized log control, harder debugging\nApproach: Import logger everywhere, add ESLint rule to prevent direct console calls","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T22:49:11.800691-05:00","updated_at":"2025-12-22T08:22:33.82612-05:00","closed_at":"2025-12-21T13:07:11.807700174Z"}
{"id":"radiant-mi3","title":"Refactor: Centralize validation constants","description":"Magic numbers for validation limits scattered across validation.ts without constants. No single source of truth between database schema and validation rules.\n\nLocation: src/utils/validation.ts (lines 13, 19, 25, 30)\nImpact: Medium - harder to maintain, potential schema/validation mismatch\nApproach: Create src/config/validation.ts with VALIDATION_LIMITS constants","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T22:49:11.529465-05:00","updated_at":"2025-12-22T08:22:33.82655-05:00","closed_at":"2025-12-21T13:06:20.605539847Z"}
{"id":"radiant-qs8","title":"Refactor: Replace custom date formatting with library","description":"Custom date formatting logic in NoteListItem.svelte reinvents functionality available in date-fns or dayjs. Manual date math is error-prone and wastes tokens.\n\nLocation: src/renderer/components/NoteListItem.svelte (lines 8-23)\nImpact: Medium - ~16 lines, error-prone for timezone handling\nApproach: Use date-fns/formatRelative or create shared utility","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T22:49:11.258973-05:00","updated_at":"2025-12-22T08:22:33.826987-05:00","closed_at":"2025-12-21T13:10:51.169835727Z"}
{"id":"radiant-uks","title":"Refactor: Extract IPC handler error handling pattern","description":"The try-catch-console.error-throw pattern is duplicated across all 6 IPC handlers in src/ipc/notesHandlers.ts. Create a generic IPC handler wrapper to eliminate ~60 lines of boilerplate.\n\nLocation: src/ipc/notesHandlers.ts (lines 6-97)\nImpact: High - reduces token waste, improves maintainability\nApproach: Create createHandler\u003cT,R\u003e() wrapper function","status":"done","priority":2,"issue_type":"task","created_at":"2025-12-18T22:49:10.489077-05:00","updated_at":"2025-12-22T08:22:33.827409-05:00"}
{"id":"radiant-w1k","title":"Phase 9: Distribution and Deployment","description":"Configure electron-builder for production builds, set up code signing, implement auto-update mechanism, create installers (DMG/NSIS/AppImage), build CI/CD pipeline, and document release process.","status":"open","priority":3,"issue_type":"epic","created_at":"2025-12-18T22:36:04.456581-05:00","updated_at":"2025-12-18T22:36:04.456581-05:00","labels":["ai-generated"],"dependencies":[{"issue_id":"radiant-w1k","depends_on_id":"radiant-7wa","type":"blocks","created_at":"2025-12-18T22:41:42.092916-05:00","created_by":"daemon"}]}
{"id":"radiant-w1k.1","title":"Configure electron-builder","description":"Set up electron-builder config. Define build targets (macOS, Windows, Linux). Configure app metadata and icons.","status":"open","priority":2,"issue_type":"task","estimated_minutes":75,"created_at":"2025-12-18T22:38:44.902448-05:00","updated_at":"2025-12-18T22:38:44.902448-05:00","labels":["ai-assisted","build-system"],"dependencies":[{"issue_id":"radiant-w1k.1","depends_on_id":"radiant-w1k","type":"parent-child","created_at":"2025-12-18T22:38:44.905413-05:00","created_by":"daemon"}]}
{"id":"radiant-w1k.2","title":"Set up code signing","description":"Obtain code signing certificates (macOS Developer ID, Windows code signing cert). Configure signing in build process. Test signed builds.","status":"open","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-18T22:38:45.115738-05:00","updated_at":"2025-12-18T22:38:45.115738-05:00","labels":["code-signing","security"],"dependencies":[{"issue_id":"radiant-w1k.2","depends_on_id":"radiant-w1k","type":"parent-child","created_at":"2025-12-18T22:38:45.116174-05:00","created_by":"daemon"}]}
{"id":"radiant-w1k.3","title":"Implement auto-update mechanism","description":"Integrate electron-updater. Set up update server or GitHub releases. Implement update notifications and installation flow.","status":"open","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-18T22:38:45.330024-05:00","updated_at":"2025-12-18T22:38:45.330024-05:00","labels":["ai-assisted","auto-update"],"dependencies":[{"issue_id":"radiant-w1k.3","depends_on_id":"radiant-w1k","type":"parent-child","created_at":"2025-12-18T22:38:45.330428-05:00","created_by":"daemon"}]}
{"id":"radiant-w1k.4","title":"Create platform installers","description":"Build DMG installer for macOS. Create NSIS installer for Windows. Generate AppImage for Linux. Test installation flows.","status":"open","priority":2,"issue_type":"task","estimated_minutes":105,"created_at":"2025-12-18T22:38:45.538772-05:00","updated_at":"2025-12-18T22:38:45.538772-05:00","labels":["ai-assisted","installers"],"dependencies":[{"issue_id":"radiant-w1k.4","depends_on_id":"radiant-w1k","type":"parent-child","created_at":"2025-12-18T22:38:45.539187-05:00","created_by":"daemon"}]}
{"id":"radiant-w1k.5","title":"Build CI/CD pipeline","description":"Set up GitHub Actions workflow. Automate builds on push/tag. Publish releases automatically. Run tests in CI.","status":"open","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-18T22:38:45.744588-05:00","updated_at":"2025-12-18T22:38:45.744588-05:00","labels":["automation","ci-cd"],"dependencies":[{"issue_id":"radiant-w1k.5","depends_on_id":"radiant-w1k","type":"parent-child","created_at":"2025-12-18T22:38:45.744988-05:00","created_by":"daemon"}]}
{"id":"radiant-w1k.6","title":"Create release process documentation","description":"Document versioning strategy. Write release checklist. Create changelog template. Document distribution process.","status":"open","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-18T22:38:45.962616-05:00","updated_at":"2025-12-18T22:38:45.962616-05:00","labels":["documentation"],"dependencies":[{"issue_id":"radiant-w1k.6","depends_on_id":"radiant-w1k","type":"parent-child","created_at":"2025-12-18T22:38:45.962975-05:00","created_by":"daemon"}]}
{"id":"radiant-w1k.7","title":"Generate privacy policy and terms","description":"Draft privacy policy (data handling, AI usage). Create terms of service. Add to app and distribution sites.","status":"open","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-18T22:38:46.173237-05:00","updated_at":"2025-12-18T22:38:46.173237-05:00","labels":["documentation","legal"],"dependencies":[{"issue_id":"radiant-w1k.7","depends_on_id":"radiant-w1k","type":"parent-child","created_at":"2025-12-18T22:38:46.173615-05:00","created_by":"daemon"}]}
{"id":"radiant-w1k.8","title":"Test distribution packages","description":"Test installers on clean machines. Verify auto-update works. Check code signature validity. Test uninstall process.","status":"open","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-18T22:38:46.38767-05:00","updated_at":"2025-12-18T22:38:46.38767-05:00","labels":["qa","testing"],"dependencies":[{"issue_id":"radiant-w1k.8","depends_on_id":"radiant-w1k","type":"parent-child","created_at":"2025-12-18T22:38:46.388071-05:00","created_by":"daemon"}]}
{"id":"radiant-y3s","title":"Refactor: Centralize type definitions","description":"Type definitions scattered and duplicated across schema.ts, preload.d.ts, and fileManager.ts. NoteFrontmatter doesn't match schema definition. No single source of truth.\n\nImpact: Medium - maintenance burden, risk of type mismatches\nApproach: Create src/types/index.ts, consolidate all types, import everywhere","status":"done","priority":2,"issue_type":"task","created_at":"2025-12-18T22:49:12.372968-05:00","updated_at":"2025-12-22T08:22:33.827832-05:00"}
{"id":"radiant-yzi","title":"Phase 4: Search Implementation","description":"Integrate MiniSearch for full-text search with provider pattern architecture allowing future swap to vector search. Build search UI with result highlighting and debouncing.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-18T22:36:03.359616-05:00","updated_at":"2025-12-18T22:36:03.359616-05:00","labels":["ai-assisted"],"dependencies":[{"issue_id":"radiant-yzi","depends_on_id":"radiant-cj2","type":"blocks","created_at":"2025-12-18T22:41:41.065252-05:00","created_by":"daemon"}]}
{"id":"radiant-yzi.1","title":"Install and configure MiniSearch","description":"Install MiniSearch library. Configure search options (fields, boost, fuzzy matching). Set up search index initialization in main process.","status":"open","priority":2,"issue_type":"task","estimated_minutes":45,"created_at":"2025-12-18T22:36:56.794089-05:00","updated_at":"2025-12-18T22:36:56.794089-05:00","labels":["ai-assisted","setup"],"dependencies":[{"issue_id":"radiant-yzi.1","depends_on_id":"radiant-yzi","type":"parent-child","created_at":"2025-12-18T22:36:56.795942-05:00","created_by":"daemon"}]}
{"id":"radiant-yzi.2","title":"Design SearchProvider interface","description":"Create abstract SearchProvider class/interface. Define methods: indexNote(), searchNotes(), updateIndex(). Plan for future VectorSearchProvider.","status":"open","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-18T22:36:57.010308-05:00","updated_at":"2025-12-18T22:36:57.010308-05:00","labels":["architecture","manual-implementation"],"dependencies":[{"issue_id":"radiant-yzi.2","depends_on_id":"radiant-yzi","type":"parent-child","created_at":"2025-12-18T22:36:57.010712-05:00","created_by":"daemon"}]}
{"id":"radiant-yzi.3","title":"Implement MiniSearchProvider","description":"Concrete implementation of SearchProvider using MiniSearch. Handle incremental index updates. Implement result ranking and highlighting.","status":"open","priority":2,"issue_type":"task","estimated_minutes":120,"created_at":"2025-12-18T22:36:57.223196-05:00","updated_at":"2025-12-18T22:36:57.223196-05:00","labels":["implementation","manual-implementation"],"dependencies":[{"issue_id":"radiant-yzi.3","depends_on_id":"radiant-yzi","type":"parent-child","created_at":"2025-12-18T22:36:57.223604-05:00","created_by":"daemon"},{"issue_id":"radiant-yzi.3","depends_on_id":"radiant-yzi.2","type":"blocks","created_at":"2025-12-18T22:42:03.132193-05:00","created_by":"daemon"}]}
{"id":"radiant-yzi.4","title":"Create SearchFactory pattern","description":"Implement factory for provider instantiation. Support configuration-based provider selection. Enable easy swap between search providers.","status":"open","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-18T22:36:57.429409-05:00","updated_at":"2025-12-18T22:36:57.429409-05:00","labels":["architecture","manual-implementation"],"dependencies":[{"issue_id":"radiant-yzi.4","depends_on_id":"radiant-yzi","type":"parent-child","created_at":"2025-12-18T22:36:57.42979-05:00","created_by":"daemon"},{"issue_id":"radiant-yzi.4","depends_on_id":"radiant-yzi.2","type":"blocks","created_at":"2025-12-18T22:42:03.257468-05:00","created_by":"daemon"}]}
{"id":"radiant-yzi.5","title":"Add search IPC handlers","description":"Create IPC handlers for search operations. Expose provider-agnostic search API. Handle async search results.","status":"open","priority":2,"issue_type":"task","estimated_minutes":75,"created_at":"2025-12-18T22:36:57.64055-05:00","updated_at":"2025-12-18T22:36:57.64055-05:00","labels":["ai-assisted","ipc"],"dependencies":[{"issue_id":"radiant-yzi.5","depends_on_id":"radiant-yzi","type":"parent-child","created_at":"2025-12-18T22:36:57.64096-05:00","created_by":"daemon"},{"issue_id":"radiant-yzi.5","depends_on_id":"radiant-yzi.3","type":"blocks","created_at":"2025-12-18T22:42:03.384469-05:00","created_by":"daemon"}]}
{"id":"radiant-yzi.6","title":"Build search UI with debouncing","description":"Enhance existing SearchBar component with debouncing. Add result highlighting. Show search statistics (X results in Y ms).","status":"open","priority":2,"issue_type":"task","estimated_minutes":90,"created_at":"2025-12-18T22:36:57.851192-05:00","updated_at":"2025-12-18T22:36:57.851192-05:00","labels":["ai-assisted","ui"],"dependencies":[{"issue_id":"radiant-yzi.6","depends_on_id":"radiant-yzi","type":"parent-child","created_at":"2025-12-18T22:36:57.851561-05:00","created_by":"daemon"}]}
{"id":"radiant-yzi.7","title":"Implement search result highlighting","description":"Highlight search terms in note titles and previews. Support multiple matched terms. Use mark.js or custom implementation.","status":"open","priority":2,"issue_type":"task","estimated_minutes":60,"created_at":"2025-12-18T22:36:58.057981-05:00","updated_at":"2025-12-18T22:36:58.057981-05:00","labels":["ai-assisted","ui"],"dependencies":[{"issue_id":"radiant-yzi.7","depends_on_id":"radiant-yzi","type":"parent-child","created_at":"2025-12-18T22:36:58.058328-05:00","created_by":"daemon"}]}
{"id":"radiant-yzi.8","title":"Add search persistence","description":"Persist search index to file. Implement index rebuild on app start. Handle index corruption gracefully.","status":"open","priority":2,"issue_type":"task","estimated_minutes":45,"created_at":"2025-12-18T22:36:58.266605-05:00","updated_at":"2025-12-18T22:36:58.266605-05:00","labels":["ai-assisted","persistence"],"dependencies":[{"issue_id":"radiant-yzi.8","depends_on_id":"radiant-yzi","type":"parent-child","created_at":"2025-12-18T22:36:58.266961-05:00","created_by":"daemon"}]}
{"id":"radiant-zys","title":"Test: Add test coverage for critical paths","description":"No test files found in codebase. Critical paths without tests:\n- Database repositories (notesRepository, tagsRepository)\n- Service layer (notesService orchestration)\n- File operations (fileManager disk I/O)\n- IPC handlers (communication layer)\n- Validation rules\n- Store state management\n\nImpact: High - no safety net for refactoring, database/file bugs uncaught\nApproach: Add Vitest, create test files for each critical module","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T22:49:12.662344-05:00","updated_at":"2025-12-22T08:22:33.828262-05:00","closed_at":"2025-12-21T13:22:24.550872533Z"}
